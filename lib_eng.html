





<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NFKLKF2');</script>
<!-- End Google Tag Manager -->
<!-- Naver  -->

<meta name="naver-site-verification" content="ce032d986bf7a6b25ebf9bfda6f3d37e499dd407"/>
<!-- End Naver  -->
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="format-detection" content="telephone=no" />
<title>전체 논문 - 내서재 - DBpia</title>


<link rel="icon" href="https://www.dbpia.co.kr/images/favicon.ico" />
<link rel="stylesheet" type="text/css" href="css/common.css?ver=20210716" />
<link rel="stylesheet" type="text/css" href="css/layout.css?ver=20210716" />
<link rel="stylesheet" type="text/css" href="https://www.dbpia.co.kr/css/jquery-ui-1.12.1.css" />
<link rel="stylesheet" type="text/css" href="https://www.dbpia.co.kr/css/jquery-ui.structure.css" />
<link rel="stylesheet" type="text/css" href="https://www.dbpia.co.kr/assets/mloading/jquery.mloading.css" />
<script type="text/javascript" src="https://www.dbpia.co.kr/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/jquery-ui-1.12.1.min.js"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/jquery.slimscroll.min.js"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/common.js??ver=20210722v01"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/search.js?ver=20210716"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/assets/mloading/jquery.mloading.js"></script>

<link rel="stylesheet" type="text/css" href="https://www.dbpia.co.kr/css/content.mystudy.css" />
<script type="text/javascript" src="https://www.dbpia.co.kr/js/jquery.mtz.monthpicker.js"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/jquery.jcarousel.min.js"></script>
	<script type="text/javascript" src="https://www.dbpia.co.kr/js/paging.js"></script>

<!--[if lt IE 9]>
<script src="../../../js/html5shiv.min.js"></script>
<script src="../../../js/respond.min.js"></script>
<![endif]-->

</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NFKLKF2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- 참고: 미지원 브라우저 -->
<!--[if lte IE 8]>
<p class="browserupgrade">사용 중인 웹 브라우저는 <strong>보안이 보장되지 않는 오래되었습니다</strong>.
<a href="http://browsehappy.com/">사용 중인 웹 브라우저를 업그레이드</a>하셔서 안전하고 빠른 웹 서핑을 하시길 권합니다.</p>
<![endif]-->
<!-- //참고 -->

<div id="skipNavigation">
	<a href="#contents">본문 바로가기</a>
</div>

<!-- 모바일 내비게이션 (시작) -->
<div class="mobileNavgation" id="mobile">
</div><!-- 모바일 내비게이션 (끝) -->

<div class="wrap mystudyP">
	<!-- 헤더 (시작) -->
	<div class="header" id="header">
		




 <!-- 상단 배너 관련 함수 -->



 <!-- 상단 배너 관련 변수 -->

<script type="text/javascript" src="https://www.dbpia.co.kr/js/multi_language.js?ver=20210726"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/dev_common.js?ver=20210726"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/search.js?ver=20210726"></script>
<script type="text/javascript" src="https://www.dbpia.co.kr/js/nuri_Statistics.js?ver=20210726"></script>
<script type="text/javascript" src="js/new.js?ver=20210726"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-11672286-9"></script>
<script type="text/javascript">
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-11672286-9');

    var dev_b2bId_chk = "";
    var dev_b2cId_chk = "";
    var outConnDay = "";
    var b2bName = "";
    var loginMsg = "";
    var code = "";
    var pdfView = "";
    var researchYN="";
    var researchCnt = -1;
    var ProxyUrl = (location.host.toLowerCase() != "www.dbpia.co.kr" && location.href.indexOf("www.dbpia.co.kr") > -1) ? ((location.href.indexOf("www.dbpia.co.kr") == 7) ? "http://" + location.host : location.href.substr(0, location.href.indexOf("www.dbpia.co.kr") + 15)) : "";
    var dayCnt = "";
    var authCheck = "";
    
    //검색 옵션
    var opt = "";
    //var ProxyUrl = location.host.toLowerCase() != "www.dbpia.co.kr" && location.href.indexOf("www.dbpia.co.kr") > -1 ? "http://"+location.host+location.pathname : "";
    var moreScrollTop = 0; //더보기 스크롤위치
    
    //2021.07.07 커뮤니티 여부
    var comnYn = "";
    
    $(document).ready(function() {
        var host = location.href;

        if(researchYN=="Y") {
            setInterval(function(){
                researchCount();
            }, 5000);
        }

        var num = $(".gUtil ul").find("li.item").length;
        if (num > 2) {
            $(".hdWrap").addClass("pr372");
        }

        $("#dev_srch_reset").click(function(){
            $("form[name='form']")[0].reset();
        });
        
        fnTopInformList();

        var url="";

        if(location.hostname.indexOf("dbpia.co.kr")>-1) {
            url = "https://"
        } else {
            url = "http://"
        }

        //휴면인 경우
        if (code == "R") {
            url += location.hostname+"/member/dormancyDis";
            jQuery.jQueryAlertMove(loginMsg, url);
        }

        // 휴면 해제 완료
        if (code == "RS") {
            url += location.hostname+"/member/logout";
            jQuery.jQueryAlertMove(loginMsg, url);
        }

    });
    
    //커뮤니티인 경우 표시 안 되게 조건문 추가 - 2021.07.12
    if(comnYn !== 'Y') {
        // 챗봇 추가 2021-02-26
          window.__ht_wc = window.__ht_wc || {};
          window.__ht_wc.host = 'design.happytalkio.com';
          window.__ht_wc.site_id = '6000000268'; // site_id
          window.__ht_wc.site_name = '피아'; // 회사 이름
          window.__ht_wc.category_id = '129659'; // 대분류 id
          window.__ht_wc.division_id = '129660'; // 중분류 id
          
          // 고정 및 Custom 파라미터 추가 영역, 파라미터가 여러개인 경우 ,(콤마)로 구분
          // window.__ht_wc.params = 'site_uid=abcd1234,parameter1=param1';
          // 앱 개발시, 웹뷰 Local Storage 사용가능하도록 처리
            
          (function() {
            var ht = document.createElement('script');
            ht.type = 'text/javascript';
            ht.async = true;
            ht.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + window.__ht_wc.host + '/web_chatting/tracking.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ht, s);
          })();
    }
</script>

<div id="dbpiaTopBanner"  style="display: block;background-color:#f6b7d6" >
    <div class="topBannerCenter">
        
        <img id="topBannerImg" src="https://www.dbpia.co.kr/Files/2021/7/20210722090218097.jpg" alt="띠배너" onclick="fncMoveToBannerLnk('402001', 'https://www.dbpia.co.kr/event/comm/index');fn_statistics('A148', '', '');" />
        <span id="closeBanner" class="closeBanner">
            <span style="visibility: hidden">닫기</span>
        </span>
    </div>
</div>

<div class="bnHead" id="bnHead">
    <div id="skipNavigation">
        <a href="#contents">본문 바로가기</a>
    </div>
    <!-- 2021.05.13 커뮤니티 설정값 -->
    
        
        
            
            
            
        
    
    <div class="mobileNavgation">
        <!-- 메뉴 전체 -->
        <nav class="menuPanel">
            <div class="menuHead">
	            <!-- 비로그인 -->
	            
	                <p class="login" id="pub_login_moblie">
	                    <a href="#" onclick="sslMove('/member/login');fn_statistics('A102', '', '')">
	                       <span class="mainColor">로그인</span>을 해주세요.
	                    </a>
	                </p>
	            
	            <!-- 기관인증 로그인인 경우 -->
	            
	            <!-- 개인 로그인인 경우 -->
	            
	            <!-- 기관인증+개인 로그인인 경우 -->
	            
	           	<!-- 연구지원 프로그램 -->
	            
            </div>
            <div class="menuBody">
            <ul class="menu">
                <li class="label eToggleSectionMobile">
                    <a href="#" class="mm m01">마이페이지</a>
                    <ul class="list eHideSecMobile" style="display: none;">
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/memberInfoView');fn_statistics('A126', '', '')" class="sm">
                                회원기본정보
                            </a>
                        </li> <!-- 회원기본정보 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/authorInfoView');fn_statistics('A127', '', '')" class="sm">
                                저자등록정보
                            </a>
                        </li> <!-- 저자등록정보 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/snsManage');fn_statistics('A125', '', '')" class="sm">
                                SNS 연동관리
                            </a>
                        </li> <!-- SNS연동관리 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/informSetting');fn_statistics('A119', '', '')"  class="sm">
                                내소식 설정
                            </a>
                        </li> <!-- 내소식 설정 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/informList');fn_statistics('A120', '', '')" class="sm">
                                내소식 모아보기
                            </a>
                        </li>   <!-- 내소식 모아보기 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mylib/notificationSetting');fn_statistics('A133', '', '')" class="sm">
                                알림설정
                            </a>
                        </li>  <!-- 알림설정 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/buyList');fn_statistics('A121', '', '')" class="sm">
                                구매내역
                            </a>
                        </li> <!-- 구매내역 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/moneyUsageList?use=useage');fn_statistics('A122', '', '')" class="sm">
                                DBpia 머니
                            </a>
                        </li>   <!-- DBpia 머니 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/cartList');fn_statistics('A123', '', '')" class="sm">
                                장바구니
                            </a>
                        </li>    <!-- 장바구니 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mylib/quoteSetting');fn_statistics('A134', '', '')" class="sm">
                                인용양식설정
                            </a>
                        </li> <!-- 인용양식 설정 -->
                        <li class="item">
                            <a href="#" onclick="sslMove('/mypage/inquireList');fn_statistics('A124', '', '')" class="sm">
                                1:1 문의 · 답변
                            </a>
                        </li> <!-- 1:1 문의 · 답변 -->
                    </ul>
                </li>
                <li class="label eToggleSectionMobile">
                    <a href="#none" class="mm m02">내서재</a>
                    <ul class="list eHideSecMobile" style="display: none;">
                        <li class="item">
                            <a href="#" onclick="sslMove('/mylib/totalNodeList');fn_statistics('A128', '', '')" class="sm">
                                전체논문
                            </a>
                        </li>
                        <li class="item">
                            <a href="#" onclick="sslMove('/mylib/historyList');fn_statistics('A131', '', '')" class="sm">
                                내가 이용한 논문
                            </a>
                        </li>
                        
                        <!-- 내서재 개편으로 삭제 처리 2020.10.26 -->
                        <!--li class="item"><a href="#" onclick="sslMove('/mylib/folderSetting');fn_statistics('A129', '', '')" class="sm">폴더관리</a></li-->
                        <!--li class="item"><a href="#" onclick="sslMove('/mylib/informSetting');fn_statistics('A133', '', '')" class="sm">알림설정</a></li-->
                        <!--li class="item"><a href="#" onclick="sslMove('/mylib/quoteSetting');fn_statistics('A134', '', '')" class="sm">인용양식설정</a></li-->
                    </ul>
                </li>
                <li class="label eToggleSectionMobile">
                    <a href="#none" class="mm m03">
                        고객센터
                    </a>
                    <ul class="list eHideSecMobile" style="display: none;">
                        <li class="item">
                            <a href="https://www.dbpia.co.kr/intro/dbpia" onclick="fn_statistics('A135', '', '')" class="sm">
                                DBpia 소개
                            </a>
                        </li>
                        <li class="item">
                            <a href="https://www.dbpia.co.kr/notice/userGuide" onclick="fn_statistics('A136', '', '')" class="sm">
                                이용안내
                            </a>
                        </li>
                        <li class="item">
                        <a href="https://www.dbpia.co.kr/notice/noticeList" onclick="fn_statistics('A137', '', '')" class="sm">
                        공지사항
                        </a></li>
                        <li class="item">
                            <a href="https://www.dbpia.co.kr/notice/newsList" onclick="fn_statistics('A138', '', '')" class="sm">
                                학회소식
                            </a>
                        </li>
                        <li class="item">
                            <a href="https://www.dbpia.co.kr/trial/trial" onclick="fn_statistics('A139', '', '')" class="sm">
                                트라이얼신청
                            </a>
                        </li>
                        <li class="item">
                            <a href="https://www.dbpia.co.kr/faq/faqList" onclick="fn_statistics('A140', '', '')" class="sm">
                                FAQ
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
            </div>
            <div class="menuFoot">
                <!-- 비로그인일 경우 -->
                
                    <ul>
                        <li>
                            <a href="#" onclick="sslMove('/member/b2bLogin');fn_statistics('A101', '', '')">
                                기관인증
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="sslMove('/join/joinAgree');fn_statistics('A103', '', '')">
                                회원가입
                            </a>
                        </li>
                    </ul>
                
                <!-- 기관인증 로그인인 경우 -->
                
                <!-- 개인 로그인인 경우 -->
                
                <!-- 개인+기관인증 로그인인 경우 -->
                
                <!-- 2021.05.06 커뮤니티인 경우는 표시되지 않게 변경 -->
                
                    <div class="gRight">
                        <button type="button" class="btn btnText lightGrayColor medium btnLine btnEnglish" onclick="resolveLocal();fn_statistics('A142', '', '')">
                            English
                        </button>
                    </div>
                
            </div>
        </nav>
        <!-- 참고: 어두워지는 부분 -->
        <div class="menuPanelOverlay" style="display: none;"></div>
    </div>
    <!--  모바일 메뉴 끝 -->

    

    <!-- 공지-->
    <div class="notification" id="pub_notification" style="display: none;">
        <div class="inner">
            <div class="txtWrap">
                <span class="txtBold">(이)가 구독하지 않는 논문으로 ‘미리보기’만 가능합니다.</span>
                <span>도서관의 ‘원문복사 서비스’를 통해 원문을 이용하실 수 있습니다. 원문복사 서비스 이용방법은 도서관 사이트를 확인해 주세요.</span>
                <a href="#" onclick="">원문복사 서비스 이용하기</a>
            </div>
        </div>
    </div>

    <div class="inner">
        <div class="hdTop">
            
                
                
    
                
                <!-- 로그인 안했을때. -->
                    <ul id="pub_loginDefault">
                        <li><a href="#tooltip_01" class="tooltip" onclick="sslMove('/member/b2bLogin');fn_statistics('A101', '', '')">기관인증</a></li>
                        <li><a href="#tooltip_01" class="tooltip" onclick="sslMove('/member/login');fn_statistics('A102', '', '')">로그인</a></li>
                        <li><a href="#" onclick="sslMove('/join/joinAgree');fn_statistics('A103', '', '')">회원가입</a></li>
                        <li><a href="https://www.dbpia.co.kr/notice/noticeList" onclick="fn_statistics('A104', '', '')">고객센터</a></li>
                        <!-- 2021.05.06 커뮤니티인 경우는 표시되지 않게 변경 -->
                          
                            
                                
                                
                                    <li><a href="#" onclick="resolveLocal();fn_statistics('A142', '', '')">English</a></li>
                                
                            
                        
                        <!--  2021.05.06, 커뮤니티 추가 -->
                        <li class="betaIcon">
                            <a href="https://www.dbpia.co.kr/community/" class="" onclick="fn_statistics('A178', '', '')">
                                커뮤니티
                            </a>
                        </li>
                    </ul>
                
            
        </div>
        <div id="tooltip_01" class="tooltip_desc">
            
                
                
                    <strong>기관인증</strong></br>
                                             소속기관이 구독중인 논문 이용 가능합니다.</br>
                    (구독기관 내 IP·계정 이용 / 대학도서관 홈페이지를 통해 접속) </br></br>
                    <strong>로그인</strong></br>
                                             개인화 서비스 이용 가능합니다.(내서재, 맞춤추천, 알림서비스 등)
                
            
        </div>
        <div id="tooltip_02" class="tooltip_desc">
            
                
                
                                             내서재, 알림서비스 등의 다양한 개인화 서비스를 이용해보세요.</br></br>
                                                            ※ 기관인증 된 상태에서 [로그인] 하시면, 해당 계정에 기관인증 상태가 90일간 유지됩니다.
                
            
        </div>
        <div id="tooltip_03" class="tooltip_desc">
            
                
                
                                            소속기관의 DBpia 구독 여부를 조회하고 기관인증 하세요.</br>
                                            기관이 구독 중인 논문을 이용하실 수 있습니다.
                
            
        </div>
        <div id="tooltip_04" class="tooltip_desc">
            
                
                
                                            회원님의 기관인증 상태가 유지되는 남은 기간입니다.</br>
                                            이후에는 자동으로 해제되며, 다시 기관인증 절차를 거치셔야</br>
                    90일간 기관인증 상태가 유지됩니다.
                
            
        </div>
        <!-- 2021.05.06 커뮤니티가 아닌 경우 DBpia 최상단 메뉴  표시 -->
        
            <div class="hdWrap">
                <!-- 기관 로고 제거 -->
                
        
                <h1 class="logo">
                    <a href="javascript:location.href='/';fn_statistics('A141', '', '')" id="aTopLogoImg">
                        <span class="blind">DBpia</span>
                    </a>
                </h1>
                <div class="gSearch">
                    <div class="searchFrom">
                            <span class="fSelect">
                                <label>
                                    <span>
                                        전체
                                    </span>
                                    <select id="dev_srchOpt" title="검색 필드 선택">
                                        <option value="*">전체</option>
                                        <option value="NODE_NM_2">논문명</option>
                                        <option value="NODE_NM_2 | NODE_ABST">논문명+초록</option>
                                        <option value="SRCH_AUTR_NM | SRCH_AUTR_NM_2 | AUTR_NM_2 | AUTR_NM_3">저자명</option>
                                        <option value="SRCH_NODE_KYWD">키워드명</option>
                                    </select>
                                </label>
                            </span>
                            <span class="gInputText">
                                <span class="placeholder">
                                    키워드, 저널, 학회, 저자 등을 입력해 주세요.
                                </span>
                                <input type="text" id="keyword" class="search" autocomplete="off" title="키워드 검색"/>
                            </span>
                        <a href="#none" class="btnSearch" onclick="searchGo();fn_statistics('A105', '', '')"></a>
                    </div>
                    <!-- 자동완성 레이어 -->
                    <div class="atcmpLayer" id="pub_atcmpLayer"><ul class="atcmpList"></ul></div>
                    <!--// 자동완성 레이어 -->
                        <span class="fCheck searchChk includeCheck">
                            <input type="checkbox" class="includeText" id="chkInclude" name="includeAr" value="Y" onclick="fn_statistics('Z106', '', '')">
                            <label for="chkInclude">본문포함</label>
                        </span>
                    
                    <a href="#none" class="btnDetailSearch btnModal" onclick="fn_statistics('A106', '', '')" id="#pub_modalAdvancedSearch">상세검색</a>
        
                    
                </div>
                <div class="gUtil">
                    <ul class="list">
                        <li class="comn_item">
                           <a href="https://www.dbpia.co.kr/community/">                          
                               <div class="comn_btn">
                                   <span>커뮤니티</span>
                               </div>
                           </a>
                        </li>
                        <!-- 연구지원 프로그램 -->
                        
                       
                        <li class="item item2">
                            <a href="#" onclick="sslMove('/mylib/totalNodeList');fn_statistics('A107', '', '')" class="link mystudy">
	                            <span>
	                                내서재
	                            </span>
                            </a>
                        </li>   <!-- 내서재 -->
                        <li class="item item3">
                            
                            
                                <a href="#" onclick="sslMove('/member/login');fn_statistics('A102', '', '')" class="link alarm">
                                    <span>
                                        내소식
                                    </span>
                                </a>
                                <a href="#" onclick="sslMove('/member/login');fn_statistics('A102', '', '')" class="link alarm mobile">
                                    <span>
                                        내소식
                                    </span>
                                </a>
                            
                            
                        </li>
                        
                    </ul>
                </div>
                <div class="menuButton" onclick="fn_statistics('A149', '', '')"><span></span></div>
            </div>
        
        <!-- 2021.05.06 커뮤니티인 경우 커뮤니티 최상단 메뉴 적용 -->
        
    </div>

    
<!-- 일반 검색용 -->
<form id="search" method="GET" action="https://www.dbpia.co.kr/search/topSearch">
	<input type="hidden" name="startCount" value="0" /> 
	<input type="hidden" name="collection" value="ALL"/> 
	<input type="hidden" name="startDate" value=""/> 
	<input type="hidden" name="endDate" value=""/> 
	<input type="hidden" name="filter" value=""/>
	<input type="hidden" name="prefix" value=""/> 		
	<input type="hidden" name="range" value="A"/>								
	<input type="hidden" name="searchField" value="ALL"/> 
	<input type="hidden" name="sort" value="RANK"/>
	<input type="hidden" name="reQuery" /> 	
	<input type="hidden" name="realQuery" />
	<input type="hidden" name="exquery" value="" />
	<input type="hidden" name="query" value=""  />
	<input type="hidden" name="collectionQuery" value=""/>
	<input type="hidden" name="srchOption" value=""/>
	<input type="hidden" name="includeAr" value="false"/>
	<input type="hidden" name="searchOption"/>
</form>
<!-- 상세 검색용 -->
<form id="detailSearch" action="https://www.dbpia.co.kr/search/topSearch" method="GET">
	<input type="hidden" name="collectionQuery"/>
	<input type="hidden" name="prefix"/>
	<input type="hidden" name="filter"/>
	<input type="hidden" name="searchOption"/>
	<input type="hidden" name="srchOption" value=""/>
</form>
<!-- 파일 다운로드 용(테스트)
<form id="fileDownload" action="" method="get"></form>
-->


</div>
        
<!--상세검색모달 시작-->
<div id="pub_modalAdvancedSearch" class="modal" style="max-width:700px;">
    <span class="modalScreen opacity"></span>
    <div class="modalContent">
        <div class="modalHeader">
            <p class="tit">상세검색</p>
            <button class="closeModal" id="#pub_modalAdvancedSearch"><span class="blind">닫기</span></button>
        </div>
        <div class="modalBody type07 eToggleSection">
            <h5 class="mb1">
                검색어 입력
                <span class="desc">검색어는 최대 5개까지 추가하실 수 있습니다.</span>
                <button type="button" class="btn btnText darkGrayColor medium btnLine fs12 btnMultiLangInput"><span>다국어입력</span></button>
            </h5>
            <form name="form" id="topfrm">
                <div class="multiLangInputBox eHideSec" id="topinfodiv">
                    <table>
                        <tbody>
                        <tr>
                            <td style="height:31px;" class="small" align="absmiddle">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td class="small" style="height:22px; vertical-align:middle; text-align:left;">
                                            <input type="text" name="data_list" id="data_list" class="batang_text"/>
                                            <span id="data_list1"></span>
                                            <input type="hidden" name="sta_code" id="multi_code" value="1"/>
                                            <a href="javascript:write_info();" style="margin-left:5px;margin-top:0px;" ><img src="https://www.dbpia.co.kr/images/language/language_btn_ok.gif" width="42" height="20" border="0" align="absmiddle" alt="입력" title="입력"></a>
                                            <a href="javascript:clear_field();" style="margin-left:5px;margin-top:0px;"><img src="https://www.dbpia.co.kr/images/language/language_btn_del.gif" width="52" height="20" border="0" align="absmiddle" alt="삭제" title="삭제"></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="small" style="height:25px; background:url(/images/language/3rd_tab_bg.gif) repeat;">
                                <div id="menu_tab">
                                    <table style="height:25px;">
                                        <tbody>
                                        <tr style="text-align:center;">
                                            <td style="width:11px; background:url(/images/language/3rd_tab_over1.gif) no-repeat;"></td>
                                            <td class="small" style="padding-top:6px; background:url(/images/language/3rd_tab_over2.gif) repeat;"><a href="javascript:go_menu(1);" class="default"><strong>한자 음가로 찾기</strong></a></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_over3.gif) no-repeat;"></td>
                                            <td style="width:1px;"></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_1.gif) no-repeat;"></td>
                                            <td class="small" style="padding-top:6px; background:url(/images/language/3rd_tab_2.gif) repeat;"><a href="javascript:go_menu(2);" class="default">한자 부수로 찾기</a></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_3.gif) no-repeat;"></td>
                                            <td style="width:1px;"></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_1.gif) no-repeat;"></td>
                                            <td class="small" style="padding-top:6px; background:url(/images/language/3rd_tab_2.gif) repeat;"><a href="javascript:go_menu(3);" class="default">러시아어</a></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_3.gif) no-repeat;"></td>
                                            <td style="width:1px;"></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_1.gif) no-repeat;"></td>
                                            <td class="small" style="padding-top:6px; background:url(/images/language/3rd_tab_2.gif) repeat;"><a href="javascript:go_menu(4);" class="default">옛한글</a></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_3.gif) no-repeat;"></td>
                                            <td style="width:1px;"></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_1.gif) no-repeat;"></td>
                                            <td class="small" style="padding-top:6px; background:url(/images/language/3rd_tab_2.gif) repeat;"><a href="javascript:go_menu(5);" class="default">일본어</a></td>
                                            <td style="width:11px; background:url(/images/language/3rd_tab_3.gif) no-repeat;"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="height:18px;"></td>
                        </tr>
                        <tr>
                            <td>
                                <div id="view_eumga">
                                    <a href="javascript:get_page('ga');" class="left1">가</a>
                                    <a href="javascript:get_page('na');" class="left1">나</a>
                                    <a href="javascript:get_page('da');" class="left1">다</a>
                                    <a href="javascript:get_page('la');" class="left1">라</a>
                                    <a href="javascript:get_page('ma');" class="left1">마</a>
                                    <a href="javascript:get_page('ba');" class="left1">바</a>
                                    <a href="javascript:get_page('sa');" class="left1">사</a>
                                    <a href="javascript:get_page('ah');" class="left1">아</a>
                                    <a href="javascript:get_page('ja');" class="left1">자</a>
                                    <a href="javascript:get_page('ca');" class="left1">차</a>
                                    <a href="javascript:get_page('ka');" class="left1">카</a>
                                    <a href="javascript:get_page('ta');" class="left1">타</a>
                                    <a href="javascript:get_page('pa');" class="left1">파</a>
                                    <a href="javascript:get_page('ha');" class="left1">하</a>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="height:10px;"></td>
                        </tr>
                        <tr>
                            <td>
                                <div id="view_sub">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="height:10px;"></td>
                        </tr>
                        <tr>
                            <td class="large">
                                <div id="insert_list">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="height:20px;"></td>
                        </tr>
                        <tr>
                            <td style="height:1px; background:#d7d7d7;"></td>
                        </tr>
                        <tr>
                            <td style="height:10px;"></td>
                        </tr>
                        <tr>
                            <td style="text-align:center;">
                                <div id="info_view">
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="advancedSearchBox">
                    <ul id="pub_advancedSearchBox">
                        <li>
                            <span class="fSelect">
                                <label>
                                    <span>전체</span>
                                    <select title="범위" name="select_search">
                                    <option value="*" selected="selected">전체</option>
                                    <option value="NODE_NM_2">논문명</option>
                                    <option value="SRCH_PLCT_NM">저널명</option>
                                    <option value="SRCH_IPRD_NM">발행기관명</option>
                                    <option value="SRCH_AUTR_NM">저자명</option>
                                    </select>
                                </label>
                            </span>
                            <span class="gInputText">
                                <input type="text" class="fText dev_input" placeholder="검색어를 입력하세요."/>
                            </span>
                            <span class="fSelect">
                                <label>
                                    <span>AND</span>
                                    <select title="조건" name="search_option">
                                        <option value=" ">AND</option>
                                        <option value="|">OR</option>
                                        <option value="!">AND NOT</option>
                                    </select>
                                </label>
                            </span>
                            <button type="button" class="btn btnIcon subColor plus" id="pub_btnAddRowAdvanced">
                                <span>추가</span>
                            </button>
                        </li>
                        <li>
                            <span class="fSelect">
                                <label>
                                    <span>전체</span>
                                    <select title="범위" name="select_search">
                                        <option value="*" selected="selected">전체</option>
                                        <option value="NODE_NM_2">논문명</option>
                                        <option value="SRCH_PLCT_NM">저널명</option>
                                        <option value="SRCH_IPRD_NM">발행기관명</option>
                                        <option value="SRCH_AUTR_NM">저자명</option>
                                    </select>
                                </label>
                            </span>
                            <span class="gInputText">
                                <input type="text" class="fText dev_input" placeholder="검색어를 입력하세요."/>
                            </span>
                            <span class="fSelect">
                                <label>
                                    <span>AND</span>
                                    <select title="조건" name="search_option">
                                        <option value=" ">AND</option>
                                        <option value="|">OR</option>
                                        <option value="!">AND NOT</option>
                                    </select>
                                </label>
                            </span>
                            <button type="button" class="btn btnIcon subColor minus" id="pub_btnRemoveRowAdvanced"><span>삭제</span></button>
                        </li>
                    </ul>
                </div>
                <div class="advancedCateBox">
                    <p class="tit">언어</p>
                    <ul class="checkBox">
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang" id="pub_cate_lang_check_01" value="all"/>
                                <label for="pub_cate_lang_check_01">전체</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang" id="pub_cate_lang_check_02" value="한국어"/>
                                <label for="pub_cate_lang_check_02">한국어</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang"  id="pub_cate_lang_check_03" value="영어"/>
                                <label for="pub_cate_lang_check_03">영어</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang" id="pub_cate_lang_check_04" value="중국어"/>
                                <label for="pub_cate_lang_check_04">중국어</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang" id="pub_cate_lang_check_05" value="일본어"/>
                                <label for="pub_cate_lang_check_05">일본어</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" name="lang" id="pub_cate_lang_check_06" value="etc"/>
                                <label for="pub_cate_lang_check_06">기타</label>
                            </span>
                        </li>
                    </ul>
                </div>
                <div class="advancedCateBox">
                    <p class="tit">서비스 중지 콘텐츠</p>
                    <ul class="checkBox">
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" id="pub_cate_stop_check_01" name="svc_yn" value="Y" />
                                <label for="pub_cate_stop_check_01">제외</label>
                            </span>
                        </li>
                    </ul>
                </div>
                <div class="advancedCateBox">
                    <p class="tit">이용형태</p>
                    <ul class="checkBox">
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" id="pub_cate_type_check_01" name="use_yn" value="Y"/>
                                <label for="pub_cate_type_check_01">원문이용</label>
                            </span>
                        </li>
                        <li>
                            <span class="fCheck">
                                <input type="checkbox" id="pub_cate_type_check_02" name="use_yn" value="N"/>
                                <label for="pub_cate_type_check_02" >서지이용</label>
                            </span>
                        </li>
                    </ul>
                </div>
            </form>
        </div>
        <div class="modalFooter" id="pub_modalFooter">
            <button type="button" class="btn btnIconB noLine btnReset">
                <span class="reset" id="dev_srch_reset">검색값 초기화</span>
            </button>
            <button type="button" class="btn btnText pointColor large closeModal" onclick="search_dsend();fn_statistics('Z204', '', '')" id="#pub_modalAdvancedSearch"><span>검색</span></button>
        </div>
    </div>
</div>
<!--상세검색모달 끝-->

<div id="pub_modalChangePwRegular" class="modal" style="max-width:526px;">
    <span class="modalScreen"></span>
    <div class="modalContent">
        <div class="modalHeader">
            <p class="tit">비밀번호 변경 안내</p>
            <button class="closeModal" id="#pub_modalChangePwRegular"><span class="blind">닫기</span></button>
        </div>
        <div class="modalBody">
            <p class="comtBox">
                비밀번호를 변경하신 지 90일 이상 지났습니다.<br/>개인정보 보호를 위해 비밀번호를 변경해 주세요.
            </p>
        </div>
        <div class="modalFooter halfBtn">
            <button onclick="chgNext()" class="btn btnText subColor large"><span>다음에 변경하기</span></button>
            <button onclick="chgNow()" class="btn btnText mainColor large btnConfirm"><span>지금 변경하기</span></button>
        </div>
    </div>
</div>

<div id="pub_modalChangePwRegular2" class="modal" style="max-width:526px;">
    <span class="modalScreen"></span>
    <div class="modalContent">
        <div class="modalHeader">
            <p class="tit">비밀번호 변경 안내</p>
            <button class="closeModal" id="#pub_modalChangePwRegular2" onclick="fnReloadModal();"><span class="blind">닫기</span></button>
        </div>
        <div class="modalBody">
            <p class="comtBox">
                비밀번호를 변경하신 지 90일 이상 지났습니다.<br/>개인정보 보호를 위해 비밀번호를 변경해 주세요.
            </p>
        </div>
        <div class="modalFooter halfBtn">
            <button onclick="fnReloadModal();" class="btn btnText subColor large"><span>다음에 변경하기</span></button>
            <button onclick="chgNow()" class="btn btnText mainColor large btnConfirm"><span>지금 변경하기</span></button>
        </div>
    </div>
</div>

<div id="alarmDetail" class="modal" style="max-width:685px;">
    <span class="modalScreen"></span>
    <div class="modalContent">
        <div class="modalHeader">
            <button class="closeModal" id="#alarmDetail"><span class="blind">닫기</span></button>
        </div>
        <div class="modalBody">

        </div>
        <div class="modalFooter halfBtn">

        </div>
    </div>
</div>

<div id="pub_modalDownloadEvent" class="modal" style="max-width: 526px; display: none;">
    <div class="modalContent">
        <span class="modalScreen opacity"></span>
        <div class="modalHeader">
            <p class="tit">간편 교외 인증 이벤트 응모</p>
            <button class="closeModal" id="#pub_modalDownloadEvent"><span class="blind">닫기</span></button>
        </div>
        <div class="modalBody type02">
            <div class="formGroup">
                <p class="tit">이름</p>
                <ul>
                    <li>
                        <span class="gInputText w100per">
                            <input name="userName" id="userName" type="text" class="fText" maxlength="30"/>
                        </span>
                    </li>
                </ul>
            </div>
            <div class="formGroup">
                <p class="tit">전화번호</p>
                <ul>
                    <li>
                        <span class="gInputText w100per">
                            <input name="userPhone" id="userPhone" type="text" class="fText" maxlength="11" onKeyDown="onlyNumber(event)"/>
                        </span>
                    </li>
                </ul>
            </div>
            <div class="tableLayout"></div>
            <div class="downloadBox">
                <p class="tit">개인정보 활용 동의</p>
                <div class="gInputText w100per borderLine">
                    <textarea cols="50" rows="6" name="privacy" id="privacy" class="fTextarea w100per" readonly="readonly">누리미디어는 개인정보 관련 법률(개인정보보호법, 정보통신망 이용촉진 및 정보보호에 관한 법률)을 준수하며 수집된 개인 정보는 해당 서비스 외에 다른 용도로 절대 사용하지 않으며, 사용자 요청 시 바로 삭제할 수 있습니다.

 1. 수집항목 및 이용목적
 - 수집항목: 이름, 전화번호, 개인정보 활용 동의
 - 이용목적: 이벤트 참여

 2. 보유 및 이용기간
 - 이벤트 종료 1개월 후 삭제처리
 - 이벤트 종료일 : 2020.05.15

 귀하는 개인정보 제공에 동의하지 않으실 권리가 있습니다.
 단, 개인정보 제공에 동의하지 않을 경우
 이벤트 참여를 하실 수 없습니다.

 그 밖의 사항은 개인정보취급방침을 준수합니다.

 개인정보 수집 및 이용에 대한 안내를 이해하였으며, 개인정보 제공에 동의하십니까?
                    </textarea>
                </div>
            </div>
            <div class="etcSpace">
                <div class="Right">
                    <span class="warn">개인정보 처리방침에 동의해주세요</span>
                    <input type="checkbox" id="agreeContract" checked="checked">
                    <label for="agreeContract"> 개인정보 처리방침에 동의</label>
                </div>
            </div>
        </div>
        <div class="modalFooter" id="pub_modalFooter">
            <button type="button" class="btn btnText subColor large closeModal" id=""><span>취소</span></button>
            <button type="button" class="btn btnText mainColor large" id="" name="btnDoneEventModal"><span>확인</span></button>
        </div>
    </div>
</div>

<script type="text/javascript">

    function onlyNumber(evt) {
        var theEvent = evt || window.event;

        // Handle paste
        if (theEvent.type === 'paste') {
            key = event.clipboardData.getData('text/plain');
        }

        if (!((47 < evt.keyCode && evt.keyCode < 58 && evt.shiftKey==false)
                || (95 < evt.keyCode && evt.keyCode < 106)
                || (evt.keyCode == 8) || (evt.keyCode == 9)
                || (evt.keyCode > 34 && evt.keyCode < 40)
                || (evt.keyCode == 46))) {
            theEvent.returnValue = false;
            if(theEvent.preventDefault) theEvent.preventDefault();
        }
    }

    $(document).on('click', "input:checkbox[id='agreeContract']", function() {
        var varIsChk = $(this).is(':checked');
        var varOpenPopLayer = $('#openPopLayer');
        varOpenPopLayer.find('#agreeContract').prop("checked", varIsChk);
        varOpenPopLayer.find('#agreeContract').attr("checked", varIsChk);
    });

    $(document).on('click', "button[name='btnDoneEventModal']", function() {
        var varOpenPopLayer = $('#openPopLayer');
        //if ($("input:checkbox[id='agreeContract']").is(":checked")) {
        //console.log(varOpenPopLayer.find("#agreeContract").is(":checked"));
        if (varOpenPopLayer.find("#agreeContract").is(":checked")) {
            $(".warn").css('visibility', 'hidden');
            var params = {};
            params.b2cId = "";
            params.b2bId = "";
            params.userName = varOpenPopLayer.find("#userName").val();
            params.userPhone = varOpenPopLayer.find("#userPhone").val();

            if ((params.userName !== '' && params.userName !== 'undefined') &&
                    (params.userPhone !== '' && params.userPhone !== 'undefined')) {
                $.ajax({
                    url:ProxyUrl+"/Member/outConnEvent",
                    type:"post",
                    data:params,
                    success:function(d) {
                        $.fn.closeLayer('#pub_modalDownloadEvent');
                        alert('이벤트에 참여해주셔서 감사합니다.');
                    },
                    error:function(e) {
                        console.log(e);
                    }
                });
            } else {
                $('input[Name=userName]').attr('placeholder', '이름을 입력해주세요');
                $('input[Name=userPhone]').attr('placeholder', '전화번호를 입력해주세요(-제외)');
            }
        } else {
            $(".warn").css('visibility', 'visible');
        }
    });

    function sslMove(call){
        var host = location.hostname;
        var url = "";
        
        //2021.02.02 SNS로그인 개편_kakao 추가
        var regExp_call = /naver|google|facebook|kakao/i;
        //var regExp_host = /^ac\.kr|proxy|edu|openlink|lib|kesli\.or\.kr|ebscohost|summon|hs\.kr|leidenuniv|[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/
        var regExp_host = /^ac\.kr|proxy|ssl|access|edu|openlink|kesli\.or\.kr|ebscohost|summon|primo|hs\.kr|leidenuniv|[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/;
                            
        if (regExp_call.test(call)) {
            if (regExp_host.test(host)) {
                $.jQueryAlert('도서관 사이트에서 기관인증하여 DBpia 사이트로 이동하신 경우,</br> Kakao, Naver, Google, Facebook 사이트 정책상 SNS 로그인이 제한됩니다.');
                return;
            }
        }
        
        if (host.indexOf("dbpia.co.kr") > -1) {
            url = "";
            host = "";
        } else {
            //url = "http://";
            url = location.protocol + "//";
        }

        url += host + call;

        if (url.indexOf("lps3.") > -1) {
            url = url.replace(/lps3./gi,"");
        }
//         console.log('url : '+url);
        location.href = url;
    }

    function chgNow(){
        location.href="https://www.dbpia.co.kr/mypage/memberInfoView";
    }

    function chgNext(){
        $.fn.closeLayer("#pub_modalChangePwRegular");

        $.ajax({
            type: "GET",
            url: ProxyUrl+"/member/pwchgNext",
            data:{b2cId : ""},
            dataType:'json',
            success:function(data) {    }
        });

    }
    
    function fnReloadModal() {
        location.reload();
    }
    
    $(document).ready(function(){
        
        // 2021-05-12  화면 로드시 2번째 리스트에 말풍선
        $(window).load(function () {
            $('.listBody').find('.item').eq(1).find('.bookTool-1').css('display','block');
            setTimeout(function() { $(".bookTool-1").fadeOut(500); }, 10000);
        });
        
        // 2021-04-30 본문포함 체크박스 관련
        var Murl = location.pathname;
        if(Murl === '/'){
            setCookie('includeAr', 'false', 1);
        }
        if(Murl === '/search/topSearch') {
            var check = $("input:checkbox[id='chkInclude']");
            check.click(function(){
                check.attr("checked", !check.attr("checked"));

                if ($("input:checkbox[id='chkInclude']").is(":checked")) {
                    setCookie('includeAr', 'true', 1);
                }  else {
                    setCookie('includeAr', 'false', 1);
                }

                searchGo();
            });
        }
        
        if (getCookie('includeAr') === 'true') {
            $("input:checkbox[id='chkInclude']").prop("checked", true);
        } else {
            $("input:checkbox[id='chkInclude']").prop("checked", false);
        }

        researchCount();

        var date = new Date();

        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var min = date.getMinutes();

        if (month < 10) {
            month = '0'+month;
        }

        if (hour < 10) {
            hour = '0' + hour;
        }
        var today = year + "" + month + "" + day + "" + hour + "" + min;

        $("#pub_banner").hide();
        
        if (today >= '2019051510' && today < '20190527' && getCookie("pub_banner") != "N") {
            $("#pub_banner").show();
        }
        
        /**
         * 로그인 시, 등장하는 팝업: 기관 인증 남은 기한에 따른 분류
        **/
        if (loginMsg != "" && code != "R" && code != "C"  && code != "RS") {
            
        	var executeFnc = function(){};
            var args = [getCookie('language'), loginMsg, dev_b2cId_chk, dev_b2bId_chk, dayCnt];
            switch (dayCnt) {
                case "90":
                    executeFnc = $.alertConn;
                    break;
                case "1":
                case "2":
                case "3":
                case "4":
                case "5":
                case "6":
                case "7":
                    executeFnc = $.alertConnChk;
                    break;
                case "-1":
                    executeFnc = $.alertConnMoveChkTwoBtn;
                    break;
                default:
                    executeFnc = $.jQueryAlert;
                    args = loginMsg;
                    break;
            }
            executeFnc(args);
        }
        
        if (code == "C") {
            $.fn.openLayer("#pub_modalChangePwRegular");
        }
        
        //검색 실행
        $("#keyword").keyup(function(e) {
        	
            var word = $("#keyword").val();
            
            if(e.keyCode==13){
                // 2021-04-30 본문포함 체크박스 관련
                if ($("input:checkbox[id='chkInclude']").is(":checked")) {
                    setCookie('includeAr', 'true', 1);
                } else {
                    setCookie('includeAr', 'false', 1);
                }
                
                searchGo();
                fn_statistics('A105', '', '');
                
            } else {
            	
                if(word.length >2) {
                	
                    $.ajax({
                        url:ProxyUrl+'/search/arkSearch',
                        type:'post',
                        dataType:'json',
                        data:{"qry": word,"hl":"Y"},
                        success:function(data){
                            $("#pub_atcmpLayer ul").empty();
                            autoComplete(data);
                        }
                    });
                    
                } else {
                	
                    $("#pub_atcmpLayer ul").empty();
                    $("#pub_atcmpLayer").hide();
                }
            }
        });


        if(opt != "") {
            $("#dev_srchOpt option").each(function(idx,item) {
                if($(item).val() == opt){
                    $("#dev_srchOpt").prev().html($(item).html());
                    $(item).attr("selected",true);
                }
            });
        }

        // 비로그인 또는 기관인증만 로그인 한 경우 마이페이지 클릭 시 로그인 페이지로 이동
        if("" == null || "" == "") {
        	
            $(".m01").next().remove();
            $(".eToggleSectionMobile > .m01").click(function(){
                sslMove("/member/login")
            });
        }

        $(".dev_input").keyup(function(e) {
        	
            if(e.keyCode==13) {
                search_dsend();
                fn_statistics('Z204', '', '');
            }
        });

        var tooltip = '[class^="tooltip"]';
        
        $(tooltip).click(function(e) {
            return false;
        });
        
        $('.tooltip').on('mouseenter mouseleave', function(e) {
            
        	var $this = $(this),
                    $href = $(this).attr('href'),
                    $top = $this.offset().top + 22
                    ,$left = $this.offset().left - 20; //1000으로 되어있었음

            var config = {
                tooltipstyle : {
                    position: 'absolute',
                    top: $top,
                    left: $left,
                    zIndex: 999,
                }
            };

            $($href).css(config.tooltipstyle);
            (e.type === 'mouseenter') ? $($href).show() : $($href).hide();
            return false;
        });

        /*
        * 내서재 북마크 처리 ( 로그인, 비로그인 )
        **/
        var chB2cId = '';
        var chCookie = getCookie('bookmark');

        if(chB2cId === '' && typeof chCookie !== 'undefined') {              // 쿠키에 담긴 논문 개수 상단 북마크 아이콘에 표시
            
        	fncMyStudyIconRefresh();
        
        } else if(chB2cId !== '' && typeof chCookie === 'undefined') {       // 북마크된 논문 개수 조회 후 상단 북마크 아이콘에 표시
            
        	fncB2cMembMyStudyIconRefresh(chB2cId);
        
        } else if(chB2cId !== '' && typeof chCookie !== 'undefined') {       // 쿠키에 있는 북마크 정보 DB에 저장 후 쿠키 삭제
            
        	var varNodeIds = chCookie.split('\|');
            var resultCnt = 0;
            var bookMarkCnt = 0;
            for(var i=0; i<varNodeIds.length; i++){
                var result = fnNotLoginBookmark(varNodeIds[i], 'add', varNodeIds.length, i+1, bookMarkCnt); // 북마크 저장
                resultCnt += result.cnt;
                bookMarkCnt = result.bookMarkCnt;
            }
            if(resultCnt >= 0){
                setCookie('bookmark', '', -1);  // 북마크 쿠키 삭제
                fncB2cMembMyStudyIconRefresh(chB2cId);
            }
        }
    });

    function autoComplete(data){
        /*출력*/
        var content ='';
        
        data.forEach(function(item,idx) {
            content +='<li class="atcmpItem"><a href="#none" onclick="wordSelect(this)" class="atcmpKeyword">';
            content +='<span class="atcmpKeywordText txtEllipsis">'+item.replace(/#CC33CC/g,"#ef4348")+'</span></a></li>';
        });
        
        $("#pub_atcmpLayer ul").append(content);
       
        /*자동완성 보이기, 숨김*/
        $("#keyword").on("focusout", function() {
            
        	setTimeout(function(){
                $("#pub_atcmpLayer").hide();
            },500);

        });

        $("#keyword").on("focusin", function() {
            $("#pub_atcmpLayer").show();
        });

        $(".atcmpKeyword").hover(function() {
            $(".atcmpKeyword").removeClass("on");
            if(!$(this).next().is(":visible"))  {
                $(this).addClass("on");
            }
        });
        
        $("#pub_atcmpLayer").show();
    }

    function wordSelect(elem) {
        
    	$("#keyword").val($(elem).text());
        $('#pub_atcmpLayer').hide();
        searchGo();
        fn_statistics('A105', '', '');
    }

    var alarmDetail = function (id, detail) {
        
    	this.id = id;
        this.detail = detail;
    };
    
    var arrayDetails = [];

    function fnTopInformList() {
        var b2bId = '';
        var b2cId = '';
    
        $.ajax({
            type: "POST",
            url: ProxyUrl+"/getTopInformList",
            success:function(data) {
                $(".alarmBodyTop").empty();
                
                if(data.totCnt > 0) {
                    
                	$("#header .badge").text(data.totCnt);
                    $("#header .badge").show();
                } else {
                    
                	$("#header .badge").hide();
                }
                if(data.informList.length > 0) {
                    
                	var index = 0;
                    var data;
                    var informList = '<ul>';
                   
                    $.each(data.informList, function(idx, val) {
                        if(val.view_yn === 'Y')  {
                            informList += '<li class="alarm view">'
                        } else {
                            informList += '<li class="alarm">'
                        }
                        informList += '<a href="#" span class="txt txtEllipsis2L" onclick="fnViewDetail(\'' + val.b2c_memb_alrt_list_id + '\',\'view\');fn_statistics(\'A150\', \''+b2bId+'\', \''+b2cId+'\');">'+val.msg+'</span></a>';
                        informList += '<span class="date">'+val.rgst_day.substring(0,10).replace(/-/g,".")+'</span>';
                        informList += '<span class="del" onclick="fnTopInformModify(\''+val.b2c_memb_alrt_list_id+'\',\'del\')"></span>';
                        informList += '</li>';
                        var data = new alarmDetail(val.b2c_memb_alrt_list_id, val.epln);
                        arrayDetails[index++] = data;
                    });
                    
                    informList += '</ul>';
                
                } else {
                    
                	var informList = '<div class="noDataArea alarm">';
                    
                	informList += '<div class="noDataWrap">';
                    informList += '<p class="icon bell"><span class="blind">아이콘</span></p>';
                    informList += '<p class="phrase">새로운 소식이 없습니다.</p>';
                    informList += '<p class="desc">DBpia 활동에 관한 내소식을 받아보세요.</p>';
                    informList += '</div>';
                    informList += '</div>';
                }
                
                $(".alarmBodyTop").append(informList);
            }
        });
    }


    function fnViewDetail(seq, mode) {
        
    	$('#alarmDetail .modalBody').empty();
        
        arrayDetails.map(function(obj) {
            if (obj.id === seq) {
                if (obj.detail !== '') {
                    $('#alarmDetail .modalBody').append(obj.detail);
                    $.fn.openLayer('#alarmDetail');
                } else {
                    $.jQueryAlert('해당 리포트는 메일로 발송되었습니다.<br/>메일에서 확인 부탁드립니다.');
                }
            }
        });

        fnTopInformModify(seq, mode);
    }

    function fnTopInformModify(seq, mode) {
        
    	var alrtListId = seq;
        var mode = mode;

        $.ajax({
            type: "POST",
            url: ProxyUrl+"/topInformListModify",
            data: {"alrtListId": alrtListId, "mode": mode},
            success:function(data) {
                fnTopInformList();
            }
        });
    }

    function researchCount(){
        $.ajax({
            url : ProxyUrl+'/journal/researchCnt',
            type : 'POST',
            success : function(restCnt){
                researchCnt = restCnt;
                $(".dev_research_cnt").html("("+restCnt+")");
            }
        });
    }

    function resolveLocal(){
        if (window.document.URL.indexOf('lang') > -1) {
            var params = location.search.substr(location.search.indexOf('?') + 1);
        
            params = params.replace('lang=ko_KR', '');
            params = params.replace('lang=en_EN', '');
            params = params.replace('lang=en_US', '');
        
            history.pushState(null, null, '?'+ params);
        }
        
        $.ajax({
            url : ProxyUrl+'/lang',
            data : '',
            type : 'POST',
            success : function(){
                //location.reload();
                $('body').append('<form name="langForm" method="post" action="'+window.document.URL+'"/>');

                if(typeof $('input[name=agree]').val() !== 'undefined'){
                    $('form[name=langForm]').append('<input type="hidden" name="agree" id="agree" value="'+$('input[name=agree]').val()+'"/>');
                }

                $('form[name=langForm]').submit();
            }
        });
    }

    //더보기 버튼 적용
    $('.relatedKeyword').each(function(){
        var eHiddenArea = $(this).outerHeight();

        if(eHiddenArea < 30) {
            $(this).children(".option").hide();
        } else {
            $(this).css('height', '26px');
            $(this).children(".option").show();
        }
    });

    function fnVoucherPop() {
        window.open('http://portal.dbpia.co.kr/event/bv_intro','_blank');
    }

    function fnArticleCopyRequest(nodeId, url){
        
    	$.ajax({
            type: "POST",
            url: ProxyUrl + '/journal/articleCopyRequest',
            dataType:"JSON",
            data:{"totId":nodeId},
            success: function(data) {
                console.log(data);
            },error:function(e){
                console.log(e);
            }
        });
        
    	window.open(url);

    }
    
     function fncDbpiaTopBannerOpen(){
        if(typeof(getCookie('topBanner')) == 'undefined'){
            
        }
    };

    // 띠배너 클릭한 링크로 이동
    fncMoveToBannerLnk = function(moveActCode, url){
        
    	if(moveActCode === '402001'){   // 현재페이지
            
    		window.location.href = url;
        
    	} else if(moveActCode === '402002'){    // 새창으로
            
    		window.open(url, '_blank');
        }
    };

    $(document).on('click', '#closeBanner', function(){
        setCookie('topBanner', 'Y', 1);
        $('#dbpiaTopBanner').css('display', 'none');
    });

</script>
<!--
<script>
	$(document).ready(function(){
		// ========== AWS Personalize 처리 =======================
		// 추천 논문 출력
		var recsList = '';
		if(typeof recsList !== 'undefined' && recsList !== ''){
			var recsListJson = JSON.parse(recsList);
			var recArticleInfo = '';

			recArticleInfo += '<div class="section" id="recArticleList">';
			recArticleInfo += '	<div class="thesisDetailArea eToggleSection">';
			recArticleInfo += '		<h3><a href="#none" class="btnToggle open">AWS 추천 논문</a></h3>';
			recArticleInfo += '		<div class="listWrap eHideSec">';
			recArticleInfo += '			<ul class="list new">';

			for(var i in recsListJson) {
				recArticleInfo += '				<li class="item">';
				recArticleInfo += '					<div class="num">'+ (parseInt(i) + 1) +'.</div>';
				recArticleInfo += '					<div class="textWrap">';
				recArticleInfo += '						<p class="tit"><span class="btn_link thesisTitleColor">'+recsListJson[i].ttleKr+'</span></p>';
				recArticleInfo += '					</div>';
				recArticleInfo += '				</li>';
			}

			recArticleInfo += '			</ul>';
			recArticleInfo += '		</div>';
			recArticleInfo += '	</div>';
			recArticleInfo += '</div>';

			$('#pub_review').before(recArticleInfo);
		}

		// 유사논문
		var similarList = '';
		if(typeof similarList !== 'undefined' && similarList !== ''){
			var similarListJson = JSON.parse(similarList);
			var similarArticleInfo = '';

			similarArticleInfo += '<div class="section" id="similarityArticleList">';
			similarArticleInfo += '	<div class="thesisDetailArea eToggleSection">';
			similarArticleInfo += '		<h3><a href="#none" class="btnToggle open">AWS 유사 논문</a></h3>';
			similarArticleInfo += '		<div class="listWrap eHideSec">';
			similarArticleInfo += '			<ul class="list new">';

			for(var i in similarListJson) {
				similarArticleInfo += '				<li class="item">';
				similarArticleInfo += '					<div class="num">'+ (parseInt(i) + 1) +'.</div>';
				similarArticleInfo += '					<div class="textWrap">';
				similarArticleInfo += '						<p class="tit"><span class="btn_link thesisTitleColor">'+similarListJson[i].ttleKr+'</span></p>';
				similarArticleInfo += '					</div>';
				similarArticleInfo += '				</li>';
			}

			similarArticleInfo += '			</ul>';
			similarArticleInfo += '		</div>';
			similarArticleInfo += '	</div>';
			similarArticleInfo += '</div>';

			$('#pub_review').before(similarArticleInfo);
		}
	});
</script>
-->
	</div><!-- 헤더 (끝) -->

	<!-- 콘텐츠 (시작) -->
	<div class="container" id="container">
		<div class="contents inner" id="contents">
			<!--좌측 영역 (시작) -->
			<div class="contLeft" id="sidebar">
				
   
 


	<div class="lnbWrap" style="position: static; top: 0px;">
		<p class="title">내서재</p>
		<ul class="lnb">
			<li class="group">
				<a id="totalNodeList" href="https://www.dbpia.co.kr/mylib/totalNodeList" class="tit" onclick="fn_statistics('R801', '', '')">전체 논문 <span class="dev_total_cnt" style="font-size:12px;"></span></a>
				
					
					
						<div id="dev_slimDiv">
							<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto;">
								<div class="slimScrollWrap" style="overflow: hidden; width: auto;">
									<ul>
										<li><input type="text" class="SCMenu" style="border: #f5f4e0; height: 32px; padding-left: 10px; width: 100%" disabled placeholder="폴더 생성하기"></li>
									</ul>
								</div>
							</div>
						</div>
					
				
			</li>
			
				
				
					<li class="group"><a href="javascript:void(0);" onclick="fncInduceLogin()" class="titDisabled">맞춤 추천 논문</a></li>
					<li class="group"><a id="historyList" href="https://www.dbpia.co.kr/mylib/historyList" class="tit" onclick="fn_statistics('R804', '', '')">내가 이용,조회한 논문</a></li>
					
					<li class="group"><a href="javascript:void(0);" onclick="fncInduceLogin()" class="titDisabled">리뷰 · 메모 관리</a></li>
                    <li class="group"><a href="#a" class="titDisabled">논문 작성 TIP</a></li>
				
			
		</ul>
	</div>

	<script type="text/javascript">
		var page = "/mylib/totalNodeList";
		if(page != "/mylib/totalNodeList" && page != "/mylib/folderSetting") {
			$(".lnb li.group ul.sub").slideUp(150);
			$(".lnb li.group a.fold").removeClass("open");
			$(".sub").css('display','none');
		}else {
			$(".lnb li.group a.fold").addClass("open");
			$(".sub").css('display','block');
		}
		var id =  "#"+page.split("/")[2];
		$(id).addClass("active");

		setCookie("location",page,1);

		$(document).ready(function(){
			// 참고: LNB 상단 고정 적용
			$(window).scroll(function() {
				if ($(this).scrollTop() > 138) {
					$('.lnbWrap').css({"position":"fixed","top":"0","padding-right": "39px"});
				} else {
					$('.lnbWrap').css({"position":"static"});
				}
			});
		});

		// 중복 폴더명 체크
		fnFolderNameChk = function(folderNm){
			var cnt=0;
			$.ajax({
				type: "POST",
				url: ProxyUrl+"/mylib/folderNmCnt",
				data: {"folder_nm":folderNm},
				async: false,
				success:function(data) {
					cnt = data;
				}
			});
			return cnt;
		};

		// 폴더명 수정 & 삭제 처리
		fncFolderModify = function(param){
			$.ajax({
				type: "POST",
				url: ProxyUrl+"/mylib/folderModify",
				data: param,
				success:function(data) {
					if(data === 0) {
						//location.reload();
						location.href = '/mylib/totalNodeList';
					}
				}
			});
		};

		// 신규 폴더 생성하기 input event
		$(document).on('keypress', 'input[name=txtCreateNewFolder]', function(event){
			if(event.keyCode === 13){
				// 폴더명 빈값 체크
				var folderNm = $(this).val().replace(/\s/gi, '');
				if(folderNm === ''){
					alert('폴더명을 입력해주세요.');
					$(this).val(folderNm);
					return false;
				}
 				if(folderNm.length > 30){
					alert('30자까지 입력 가능합니다.');
					$(this).val(folderNm);
					return false;
				} 

				// 폴더명 중복 체크
				var cnt = fnFolderNameChk(folderNm);
				if(cnt !== 0){
					alert('이미 같은 이름의 폴더가 있습니다.');
					$(this).val('');
					return false;
				}

				$.ajax({
					type: "POST",
					url: ProxyUrl+"/mylib/folderRegist",
					data: {"folder_nm": folderNm},
					success:function(data) {
						if(data === 0) {
							location.reload();
						}
					}
				});
			}
		});

		// 폴더명 변경 취소를 위한 기존 폴더 정보 저장용 변수
		var varBefore = {folderInfo:'', folderId:'', folderNm:''};

		// 폴더명 수정 버튼 클릭
		$(document).on('click', 'button[name=btnModifyFolderNm]', function(){
			var varInput = '<input type="text" id="txtModifyFolder" name="txtModifyFolder" class="SCMenu addNewFolder">';
			var varTarget = $(this).parent().parent().prev('a');

			if(typeof varTarget.attr('href') !== 'undefined'){
				varBefore.folderInfo = varTarget;	    // 기존 폴더명 정보 백업
				varBefore.folderId = varTarget.attr('id');	// 기존 폴더 ID 저장
				varBefore.folderNm = varTarget.attr('name');	// 기존 폴더 명 저장
				varTarget.remove();	// 기존 폴더명 정보 삭제
				$(this).parent().parent().before(varInput);
				$(this).parent().parent().prev('input').focus();
			}
		});

		// 폴더명 수정 중 포커스 아웃 시 초기화 처리
		$(document).on('focusout', 'input[name=txtModifyFolder]', function(){
			$(this).before(varBefore.folderInfo);
			varBefore.folderId = '';
			varBefore.folderNm = '';
			$(this).remove();
		});

		// 폴더명 수정 후 엔터키 입력 시 수정 처리
		$(document).on('keypress', 'input[name=txtModifyFolder]', function(event){
			if(event.keyCode === 13){
				// 폴더명 빈값 체크
				var folderNm = $(this).val().replace(/\s/gi, '');
				if(folderNm === ''){
					alert('폴더명을 입력해주세요.');
					$(this).val(folderNm);
					return false;
				}
				
 				if(folderNm.length > 30){
					alert('30자까지 입력 가능합니다.');
					$(this).val(folderNm);
					return false;
				}

				// 폴더명 중복 체크
				var cnt = fnFolderNameChk(folderNm);
				if(cnt !== 0 && folderNm !== varBefore.folderNm){
					alert('이미 같은 이름의 폴더가 있습니다.');
					return false;
				}
				fn_statistics('R808', '', '')
				var param = {'folder_nm': folderNm, 'folder_id': varBefore.folderId, 'mod': 'modify'};
				fncFolderModify(param);	// 수정 처리
			}
		});

		// 폴더명 삭제 버튼 클릭
		$(document).on('click', 'button[name=btnDeleteFolder]', function(){
			fn_statistics('R809', '', '')
			var varTarget = $(this).parent().parent().parent().find('a');
			if(typeof varTarget.attr('href') !== 'undefined'){
				if(confirm('해당 폴더를 삭제하시겠습니까?')){
					var folderId = varTarget.attr('id');
					var folderNm = varTarget.attr('name');
					
					var param = {'folder_nm': folderNm, 'folder_id': folderId, 'mod': 'delete'};
					fncFolderModify(param);	// 삭제 처리
				}
			}
		});

		// 폴더 관리 툴팁 실행
		$(document).on('mouseenter mouseleave', '.folderDiv', function(e) {
			(e.type === 'mouseenter') ? $(this).find('.fold_editor').show() : $(this).find('.fold_editor').hide();
			return false;
		});

		// 로그인 팝업 실행
		fncInduceLogin = function(){
			$.fn.openLayer('#pub_modalLoginPop');
		};
	</script>
			</div><!-- 좌측 영역 (끝) -->
<div style="width: 80%;right: 1px;"></div>
			<!-- 우측 영역 (시작) -->
			<div class="contRight">
				<form id="nodeSearchForm" method="post" action="https://www.dbpia.co.kr/mylib/totalNodeList" onsubmit="return false;">
					<input type="hidden" name="sort"/>
					<input type="hidden" name="currPage" value="1"/>
					<input type="hidden" name="pageSize" value="10"/>
					<input type="hidden" id="dev_data_index" value="0">
					<input type="hidden" name="folder" value=""/>
					<div class="section">
					
					<div class="mypage_header" style="display: none;">
						<div class="mypage_header_text1"><span class="mypage_header_name">OOO</span> 님의&nbsp;&nbsp;&nbsp;<span class="mypage_header_text3">2021년 1학기 목표</span></div>
						<div class="mypage_header_text2"><span class = "float"><span class="mypage_header_goal bold">OOO</span> 달성을 위해</span> <span class="float"><span class = "bold">DBpia</span>가 늘 함께 하겠습니다!</span></div>
					</div>
					
						<div class="headingArea">
							<div class="ttleSec">
								<div class="ttleSecPc">
									
										
                                            <!-- 논문작성팁 수정-->
											<h2>
												<span>논문 작성 TIP</span>
												<div class="tooltipWrap">
													<span class="blind">도움말</span>
													<div class="tooltip">
														<a href="#none" class="btnTooltip">도움말 보기</a>
														<p class="desc leftTop" style="width: 410px;">
															글쓰기 연구가가 뽑은 <논문을 쓰기 전에 당신이 알아야 할 10가지> 
                                                            <br>강의 영상을 무료로 보실 수 있습니다.
														</p>
													</div>
												</div>
											</h2>
										
									
								</div>
								<div class="ttleSecMobile">
									
										
											<div class="gLeft">
												<h2><span>전체 논문</span></h2>
											</div>
										
										
									
								</div>
							</div>
							<div class="gRight schBox" style="bottom: 18px;">
								<div class="gInputText schBox schBoxHeading w100per">
									<span class="placeholder">검색어 입력</span>
									<input type="text" class="fText" id="dev_searchText" name="searchText" value=""/>
									<button type="button" class="btnSearch innerSearch" style="height: 32px;" id="btnInnserSearch" onclick="fn_statistics('R101', '', '')"><span class="blind">검색</span></button>
								</div>
							</div>
						</div>
					</div>
					<div class="section">
						<!-- 내 서재 영상 리스트-->
                        <div class="movie_list">
                            <ul>
								<li>									
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie2.png" alt="">
											<p>
												일시적 오류가 발생하여 <br><b> 이미지를 불러올 수 없습니다</b>
											</p>
											<span class="time_txt">15min</span>
										</a>
									</div>
									
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 1</p>
											<p class="tit">Understanding the characteristics of the thesis</p>
											<p class="txt">You should figure out the essential elements of the thesis by understanding the genre of it.</p>
										</a>
									</div>
                                </li>
                                <li>									
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">15min</span>
										</a>
									</div>
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 1</p>
											<p class="tit">Understanding the characteristics of the thesis</p>
											<p class="txt">You should figure out the essential elements of the thesis by understanding the genre of it.</p>
										</a>
									</div>								
                                </li>
								<li>
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">17min</span>
										</a>
									</div>
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 2</p>
											<p class="tit">Checking the evaluation criteria of the thesis in advance</p>
											<p class="txt">You should identify the do's and don'ts of contents, composition, and styles by understanding the evaluation basis.</p>
										</a>
									</div>
                                </li>
								<li>									
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">16min</span>
										</a>
									</div>
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 3</p>
											<p class="tit">The topic is the focus of the thesis.</p>
											<p class="txt">You should understand the importance of the 'topic', which is the focus of the thesis, and identify topics that can be adopted when writing the thesis.</p>
										</a>
									</div>
                                </li>
								<li>									
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">17min</span>
										</a>
									</div>
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 4</p>
											<p class="tit">Your arguments could be composed of topics after they have been expressed in sentences.</p>
											<p class="txt">You should understand the way to construct topics, and figure out the relationship between topic and the objective</p>
										</a>
									</div>
                                </li>
								<li>									
									<div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">15min</span>
										</a>
									</div>
									<div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 5</p>
											<p class="tit">Caution of the Abstracts in Korean</p>
											<p class="txt">You should understand that the Abstracts in Korean is a summary of the main contents of the thesis.</p>
										</a>
									</div>
                                </li>
								<li>
                                    <div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">18min</span>
										</a>
                                    </div>
                                    <div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 6</p>
											<p class="tit">Understanding citations, annotations, and plagiarism that are in the love-hate relations</p>
											<p class="txt">You should learn about plagiarism and precautions regarding quotation.</p>
										</a>
                                    </div>
                                </li>
								<li>
                                    <div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">16min</span>
										</a>
                                    </div>
                                    <div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 7</p>
											<p class="tit">The standard of plagiarism must be confirmed.</p>
											<p class="txt">You should learn about the plagiarism through examples.</p>
										</a>
                                    </div>
                                </li>
								<li>
                                    <div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">16min</span>
										</a>
                                    </div>
                                    <div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 8</p>
											<p class="tit">Understanding the paragraph that constitutes the thesis</p>
											<p class="txt">You should understand the paragraph that constitutes the context.</p>
										</a>
                                    </div>
                                </li>
								<li>
                                    <div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">15min</span>
										</a>
                                    </div>
                                    <div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 9</p>
											<p class="tit">There are appointed rules - annotations and references.</p>
											<p class="txt">You should identify how to write annotations/references.</p>
										</a>
                                    </div>
                                </li>
								<li>
                                    <div class="movie_frame">
										<a href="#a">
											<img src="images/movie/@movie.png" alt="">
											<span class="time_txt">17min</span>
										</a>
                                    </div>
                                    <div class="movie_info">
										<a href="#a">
											<p class="step">Chapter 10</p>
											<p class="tit">The thesis is a kind of writing after all.</p>
											<p class="txt">You should learn about the expressions you need to be careful about when writing the text.</p>
										</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<div class="footer" id="footer">
		



	<div class="footer footDetail" id="footer">
		<div class="ftWrap">
			<div class="ftTop">
				<div class="inner">
					<div class="ftLeft">
						<ul class="ftMenu">
							<li class="menu"><a href="https://www.dbpia.co.kr/intro/dbpia" onclick="fn_statistics('A146', '', '')">DBpia 소개</a></li>
							<li class="menu"><a href="https://www.dbpia.co.kr/link/agreement" onclick="fn_statistics('A114', '', '')">이용약관</a></li>
							<li class="menu"><a href="https://www.dbpia.co.kr/link/privacy" onclick="fn_statistics('A115', '', '')"><span style="font-weight:bold;">개인정보처리방침</span></a></li>
							<li class="menu"><a href="#none" onclick="fnContact();fn_statistics('A152', '', '')">제휴문의</a></li>
							<li class="menu"><a href="https://www.dbpia.co.kr/trial/trial" onclick="fn_statistics('A116', '', '')">트라이얼신청</a></li>
							
							
						</ul>
						<div class="infoWrap">
							<p class="logo"><a href="javascript:window.open('https://www.nurimedia.co.kr/', '_blank');" onclick="fn_statistics('A117', '', '')"><span class="blind">닫기</span></a></p>
							<ul class="info">
								<li>㈜누리미디어 대표이사: 최순일 사업자등록번호: 816-81-00840</li>
								<li><span>통신판매업신고번호: 제2017-서울영등포-0801호 </span><span>대표전화: <a href="tel:02-707-0496">02-707-0496</a> 팩스: 02-717-4305</span></li>
								<li><span>이메일: <a href="mailto:dbpia@nurimedia.co.kr">dbpia@nurimedia.co.kr</a></span><span>주소: (07281) 서울특별시 영등포구 선유로 63, 4층 (문래동 6가)</span></li>
							</ul>
						</div>
					</div>
					<div class="ftRight">
						<p class="helpTit">고객센터</p>
						<ul class="helpCont">
							<li class="contact">
								<span class="phone"><a href="tel:02-707-0496">02-707-0496</a></span>
								<span class="email"><a href="mailto:dbpia@nurimedia.co.kr">dbpia@nurimedia.co.kr</a></span>
							</li>
							<li class="operation">
								<span class="subtit">운영시간</span>
								<span class="time">평일 09시 ~18시<br/>주말, 공휴일 휴무</span>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="ftBot">
				<div class="inner">
					<div class="ftRight">
						<ul class="bn">
							<li><a href="https://www.dbpia.co.kr/" class="bnDBpia"><span class="blind">배너</span></a></li>
							<li><a href="https://www.krpia.co.kr/" target="_blank" class="bnKRpia" onclick="fn_statistics('A147', '', '')"><span class="blind">배너</span></a></li>
							<li><a href="javascript:popupOpenCerti();" class="bnGCS"><span class="blind">우수콘텐츠서비스</span></a></li>
							<li><a href="https://www.copyrightok.kr/" target="_blank" class="RightOk"></a>
							<li><a href="http://www.kepa.or.kr/" target="_blank" class="bnKepa"></a>
						</ul>
					</div>
					<div class="ftLeft">
						<p class="copyright"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="gTopNavi">
			<button type="button" class="btn btnIcon top" id="pub_btnTop"><span>top</span></button>
		</div>
		
		<div id="pub_modalContact" class="modal" style="max-width:526px;">
			<span class="modalScreen"></span>
			<div class="modalContent">
				<div class="modalHeader">
					<p class="tit">제휴문의</p>
					<button class="closeModal" id="#pub_modalContact"><span class="blind">닫기</span></button>
				</div>
				<div class="modalBody type02">
					<p class="comtBox type02">
						DBpia와 구독·저작권 계약, 기타 제휴를 원하시면 해당 부서로 연락 바랍니다.
					</p>
					<dl class="contactBox">
						<dt class="tit">콘텐츠 구독 계약 문의</dt>
						<dd class="cont">
							<p class="w50per">
								<span class="text">담당부서 : 영업기획팀</span>
								<span class="text">&#40;4년제 대학교, 해외 도서관&#41;</span>
								<a href="mailto:sales@nurimedia.co.kr">sales@nurimedia.co.kr</a>						
							</p>
							<p class="w50per">
								<span class="text">담당부서 : 전문영업팀</span>
								<span class="text">&#40;공공기관, 국책연구원, 기업, 전문대학&#41;</span>
								<a href="mailto:gnc@nurimedia.co.kr">gnc@nurimedia.co.kr</a>						
							</p>
						</dd>
					</dl>
					<dl class="contactBox half brNone">
						<dt class="tit">저작권 계약 문의</dt>
						<dd class="cont">
							<p>
								<span class="text">담당부서 : 콘텐츠 영업팀</span>
								<a href="mailto:copyright@nurimedia.co.kr">copyright@nurimedia.co.kr</a>
							</p>					
						</dd>
					</dl>
					<dl class="contactBox half">
						<dt class="tit">기타 제휴 문의</dt>
						<dd class="cont">
							<p>
								<span class="text">담당부서 : 서비스 기획팀</span>
								<a href="mailto:dbpia@nurimedia.co.kr">dbpia@nurimedia.co.kr</a>
							</p>
						</dd>
					</dl>
				</div>
			</div>
		</div>

<!-- Channel Plugin Scripts -->
<script src="https://www.dbpia.co.kr/js/channeltalk.js"></script>
<!-- End Channel Plugin -->

<!-- 참고: 콘텐츠제공서비스 품질인증서 팝업 -->
<script type="text/javascript">
function popupOpenCerti(){
	var popUrl = "/link/certiPopup"; //팝업창에 출력될 페이지 URL
	var popOption = "width=500, height=625, resizable=no, scrollbars=no, status=no;";    //팝업창 옵션(optoin)
		window.open(popUrl,"",popOption);
}
(function () {
	setTimeout(function() {
		var year = new Date().getFullYear();
		document.querySelector('.copyright').innerHTML = 'Copyright (c) 1997-'+year+' NURIMEDIA. ALL RIGHTS RESERVED.';
		
		var nsso = "";
		var b2c_id = "";
		var b2b_id = "";
		if (nsso != '' && (b2c_id || b2b_id)) {

			if (localStorage.getItem('loginCheck') === null) {
				$.ajax({
					url: 'https://www.krpia.co.kr/account/nsso?key='+nsso,
					dataType: 'jsonp'
					});
				
				localStorage.setItem('loginCheck', 'Y');
			}
		} else {

			localStorage.removeItem('loginCheck');
		}

		}, 1000);
})();
</script><!-- //참고 -->
</div>

	</div>
</div>

<!-- 비로그인 내서재 로그인 권유 툴팁 -->
<div class="popup_tooltip tooltip_new">
	<a href="#" class="btn_close">닫기</a>
	<div class="slide_area">
		<div class="tooltag">
			<p class="tooltip_title"></p>
			<div class="btn_box">
				<a href="https://www.dbpia.co.kr/member/login" id="myBooks" class="btn_link link_arrow" target="_blank" onclick="fn_statistics('R118', '', '')">로그인 바로가기</a>
			</div>
		</div>
	</div>
</div>




    
<!-- 모달: 로그인 팝업 (시작) -->
<div id="pub_modalLoginPop" class="modal loginModal" style="max-width:526px; display:none;">
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit">로그인</p>
			<button class="closeModal" id="#pub_modalLoginPop" onclick="b2cClose(this)">
				<span class="blind">닫기</span>
			</button>
		</div>
		<div class="modalBody">
            <h4>
            	
            		
            		
            			DBpia 로그인으로 연구 활동에 가장 편리한 서비스를 만나보세요!
            		
            	
            </h4>
            <div class="comtBox type04">
                <ul>
                    <li>로그인하시면 소속기관의 구독 논문을 어디서든 이용하실 수 있습니다.<br />내서재에서 논문 관리부터 참고문헌 작성까지 간편하게 해보세요.</li>
                </ul>
            </div>
            <div class="loginArea">
                <!--좌측 영역 (시작) -->
                <div class="gLeft">
                    <div class="snsLogin">
                        <div class="tit blind">소셜 로그인</div>
                        <ul class="snsTopArea snsOpen">
                        	<!-- 2021.02.17 SNS로그인 개편_kakao 추가 -->
							<li>
								<a href="#" onclick="sslMove('/member/login/kakao');fn_statistics('A162', '', '')" class="kakao">
									<span>
										카카오 아이디로 로그인
									</span>
								</a>
								<span class="requiredText textHidden req_kakao">
									마지막에 이용하신 소셜 로그인 항목입니다.
								</span>
							</li>
						</ul>
						<!-- 2021.02.17 kakao 로그인 더보기 기능 추가 -->
						<div class="line_wrap">
							<span class="line_or">
								<span class="text_or">
									다른 SNS로 로그인
								</span>
							</span>
						</div>
						<ul class="snsBottomArea snsClose">
							<li>
                                <a href="#" onclick="sslMove('/member/login/naver');fn_statistics('A155', '', '')" class="naver"><span>네이버 아이디로 로그인</span></a>
                            	<span class="requiredText textHidden req_naver">
                            		마지막에 이용하신 소셜 로그인 항목입니다.
                            	</span>
                            </li>
                            <li>
                                <a href="#" onclick="sslMove('/member/login/google');fn_statistics('A156', '', '')" class="google"><span>구글 아이디로 로그인</span></a>
                            	<span class="requiredText textHidden req_google">
                            		마지막에 이용하신 소셜 로그인 항목입니다.
                            	</span>
                            </li>
                            <li class="remove_facebook">
                            	
								<a href="https://www.dbpia.co.kr/notice/noticeView?nId=1137&topYn=N" onclick="fn_statistics('A166', '', '')" class="change_facebook">
									<span>
										<span class="point">! </span> 페이스북 로그인 유저이신가요?
									</span>
								</a>
							</li>
                           
                            
                        </ul>
                    </div>
                </div><!-- 좌측 영역 (끝) -->

                <!-- 우측 영역 (시작) -->
                <div class="gRight">
                    <div class="loginWrap">
                        <div class="tit">DBpia 로그인</div>
                        <form id="dev_loginForm" action="https://www.dbpia.co.kr/member/b2cLoginProc" method="POST">
                            <div class="loginBox">
                                <span class="gInputText">
                                    <span class="placeholder">아이디</span>
                                    <input type="text" class="fText id" name="userId" id="layer_userID" />
                                </span>
                                <span class="gInputText">
                                    <span class="placeholder">비밀번호</span>
                                    <input type="password" class="fText pw" name="userPw" id="layer_userPW"/>
                                </span>
                            </div>
                            <div class="opt">
                                <span class="fCheck">
                                    <input type="checkbox" id="dev_pub_check_01" checked="checked">
                                    <label for="dev_pub_check_01">아이디 저장</label>
                                </span>
                                <button type="button" class="btn btnText mainColor large login" onclick="loginProc();fn_statistics('A158', '', '')"><span>로그인</span></button>
                            </div>
                        </form>
                        <div class="comtBox last">
                            <ul>
                                <li><a href="#" onclick="sslMove('/member/accFind');fn_statistics('A160', '', '')">아이디·비밀번호 찾기</a></li>
                                
                                <li><a href="#none" id="modalOrganPop" onclick="fn_statistics('A161', '', '')">기관인증</a></li>
                                
                            </ul>
                            <button class="btn btnText subColor large join" onclick="sslMove('/join/joinAgree');fn_statistics('A159', '', '')"><span>회원가입</span></button>
                        </div>							
                    </div>
                </div><!-- 우측 영역 (끝) -->
            </div><!--loginArea (끝)-->
        </div>	
	</div>
</div>
<script>

$(document).ready(function(){	
	$("#modalOrganPop").click(function() {
		$.fn.closeLayer('#pub_modalLoginPop');
		$.fn.openLayer('#pub_modalOrganPop');	
	});
	
	var idSave = getCookie("idSave");
	if(idSave != "" && idSave != null){
		$("#dev_pub_check_01").attr("checked",true);
		$("input[name=userId]").val(getCookie("idSave"));
		$("input[name=userId]").prev().hide();
	}			
	
	/*자동로그인, 아이디 저장 체크박스 제어*/
	$("#dev_pub_check_01").click(function() {
		$("#dev_pub_autoLogin").attr("checked", false);
	});
	$("#dev_pub_autoLogin").click(function() {
		$("#dev_pub_check_01").attr("checked", false);	
		if($(this).is(":checked")){
			setCookie("6FAC61F","Y",365);
		}else{
			setCookie("6FAC61F","",0);
		}	
		
		
	});
	
	//아이디 저장 체크시 툴팁 숨김 처리
	$("#dev_pub_check_01").change(function(){
		if($("#dev_pub_check_01").is(":checked")){
			$("#dev_pub_tooltip_autoLogin").hide();
		}
	});
	
	$("#layer_userPW").keyup(function(e){
		if(e.keyCode==13){
			loginProc();
		}
	});	
	
});

//b2c login popup 닫기
function b2cClose(elem){	
	setCookie("b2cLayer","N",1);
}

function loginProc(){	
	var userId = $("#layer_userID").val();
	var userPw = $("#layer_userPW").val();		
	var loc = getCookie("location");

	if(loc != null && loc.indexOf("/pay") ==-1){
		loc = "";
	}
		
	var emsg = "아이디와 비밀번호를 모두 입력하세요.";
	if(userId == "" || userId == null || userPw== "" || userPw == null){
		$.jQueryAlert(emsg);
		return false;
	}else{		
		var autoLogin = $("#dev_pub_autoLogin").is(":checked") == true ? "Y" : "N";
		var data = {};
		data["userId"]= userId;
		data["userPw"]=userPw;
		data["autoLogin"] = autoLogin;
		if($("#dev_pub_check_01").is(":checked")){
			setCookie("idSave",$("#layer_userID").val(),365);
		}else{
			setCookie("idSave","",0);
		}
		setCookie("refer",location.href,1);			
		$.ajax({
	        url: ProxyUrl+"/member/b2cLoginProcForChrome",
	        dataType: 'json',
	        data: data, 
	        type: 'POST',
	        success: function(result){
	        	console.log(result);
	        	if(result.loginYN == "S"){
	        		$.fn.closeLayer('#pub_modalLoginPop');        			      		 		
	        		if(loc =="" || loc == null){
						window.location.reload();
					}else{
						loc = fnUrlEncode(loc);			
						window.location = loc;
					}
	        		
	        	}else if(result.loginYN == "C"){		
	        		$.fn.closeLayer('#pub_modalLoginPop');        			
        			$.fn.openLayer("#pub_modalChangePwRegular2");
	        	}else if(result.loginYN == "R"){			        		
	        		var url=location.hostname.indexOf("dbpia.co.kr")>-1 ? "https://" : "http://";	        		
	        		url += location.hostname+"/member/dormancyDis";
	        		jQuery.jQueryAlertMove(result.loginMsg, url);
	        	}else{	        	
	        		//로그인 실패
	        		if(result.loginMsg.trim() != ""){
	        			emsg = result.loginMsg;		
	        		}
	        		$.jQueryAlert(emsg);
	        	}
	        }
		});	
	}

	

}
</script>
<!-- //모달 -->

<!-- 등록폼 -->
<div id="pub_modalRegisterBiblio" class="modal" style="max-width:526px;">
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit" id="dev_modal_title">자료 등록하기</p>
			<button class="closeModal" onclick="fnModalClose('pub_modalRegisterBiblio');"><span class="blind">닫기</span></button>
		</div>
		<div class="modalBody">
			<div class="comtBox type04" id="pub_comtBox_modal">
				<ul>
					<li>DBpia에 없는 논문, 단행본, 웹페이지, 학위논문을 내서재에 등록해 보세요.</li>
					<li>자료유형을 선택하신 후 각 항목을 입력해 주세요.</li>
				</ul>
			</div>
			<div class="jcarousel-wrapper">
				<div class="jcarousel">
					<ul class="list">
						<li class="item">
							<div class="formGroup">
								<p class="tit">자료유형</p>
								<ul>
									<li id="dev_dataType_reg">
										<span class="fSelect">
											<label>
												<span>자료유형 선택</span>
												<select title="찾기 옵션" id="pub_selectDataType">
													<option>자료유형 선택</option>
													<option value="505001">학술논문</option>
													<option value="505003">단행본</option>
													<option value="505004">웹페이지(기타)</option>
													<option value="505002">학위논문</option>
												</select>
											</label>
										</span>
									</li>
									<li id="dev_dataType_view" class="verMiddle" style="padding-top: 0px;">
										<span class="dev_type_view">
										</span>
										<input type="hidden" id="dev_type_input">
									</li>
								</ul>
							</div>
							<div class="layerWrap"  id="pub_biblioRegisterInfo">
								<form id="nodeRegistForm">
									<input type="hidden" name="node_type_code"/>
									<input type="hidden" name="mode"/>
									<input type="hidden" name="thesis_id"/>
									<input type="hidden" name="pbsh_yy"/>
									<input type="hidden" name="pbsh_mm"/>
									<!-- 참고: 학술논문 등록 -->
									<div class="layer1 mt-1" style="display:none;">
										<div class="formGroup" id="dev_thesis_title">
											<p class="tit">제목</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">자료의 제목을 입력하세요.</span>
														<input type="text" class="fText" name="title"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_autr_nm">
											<p class="tit">저자</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">저자명을 입력하세요. 2인 이상 저자는 세미콜론[;]으로 구분됩니다.</span>
														<input type="text" class="fText" name="autr_nm"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_source">
											<p class="tit">출처(저널)</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">자료가 수록된 출처(저널명)를 입력하세요.</span>
														<input type="text" class="fText" name="source"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_pbsh_yy">
											<p class="tit">발행연월</p>
											<ul>
												<li>
													<span class="gInputText w120">
														<input type="text" class="fText" id="pub_monthPicker1" name="dev_pbsh_yy"/>
														<button type="button" class="ui-datepicker-trigger" id="pub_monthPickerButton"><img src="../../../images/common/btn_calendar.png" alt="달력선택"></button>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_vol">
											<p class="tit">권</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">논문이 수록된 저널의 권수을 입력하세요.</span>
														<input type="text" class="fText" name="vol" onkeyup="fnReplaceString(this);"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_isue">
											<p class="tit">호</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">논문이 수록된 저널의 호수를 입력하세요.</span>
														<input type="text" class="fText" name="isue" onkeyup="fnReplaceString(this);"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_page">
											<p class="tit">페이지</p>
											<ul>
												<li>
													<span class="gInputText w120">
														<span class="placeholder">시작페이지</span>
														<input type="text" class="fText" name="start_page" onkeyup="fnReplaceString(this);"/>
													</span>
													<span class="txtHyphen">-</span>
													<span class="gInputText w120">
														<span class="placeholder">끝페이지</span>
														<input type="text" class="fText" name="end_page" onkeyup="fnReplaceString(this);"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_iprd_nm">
											<p class="tit">발행기관</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">발행기관명을 입력하세요.</span>
														<input type="text" class="fText" name="iprd_nm"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_pbsh_city">
											<p class="tit">발행도시</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">단행본 발행도시명을 입력하세요.</span>
														<input type="text" class="fText" name="pbsh_city"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_doi">
											<p class="tit">DOI</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">DOI를 입력하세요.</span>
														<input type="text" class="fText" name="doi"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_url">
											<p class="tit">URL</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">URL을 입력하세요.</span>
														<input type="text" class="fText" name="url"/>
													</span>
												</li>
											</ul>
										</div>
										<div class="formGroup" id="dev_memo">
											<p class="tit">기타 메모</p>
											<ul>
												<li>
													<span class="gInputText w100per">
														<span class="placeholder">기타 메모사항을 입력하세요.</span>
														<input type="text" class="fText" name="memo"/>
													</span>
												</li>
											</ul>
										</div>
									</div>
								</form>
							</div>
						</li>
						<li class="item" id="pub_biblioAbstract" style="display:none;">
							<div class="formGroup h100per">
								<p class="tit fixed">초록</p>
								<ul class="h100per fixed">
									<li class="h100per">
										<span class="gInputText h100per">
											<textarea cols="50" rows="5" class="fTextarea w100per h100per" name="abstract1" id="abstract1" title="초록" placeholder="초록을 입력해 주세요."></textarea>
										</span>
									</li>
								</ul>
							</div>						
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="modalFooter btNone" id="dev_pub_modalFooter" style="display:none;">
			<button type="button" class="btn btnText subColor large closeModal" onclick="fnModalClose('pub_modalRegisterBiblio','view');"><span>취소</span></button>
			<button type="button" class="btn btnText mainColor large" id="#pub_modalRegisterBiblio" onclick="fnNodeRegist();fn_statistics('R106', '', '')"><span>확인</span></button>
		</div>
		<div class="modalFooter btNone" id="pub_modalFooterNext" style="display:none;">
			<button type="button" class="btn btnText subColor large closeModal" onclick="fnModalClose('pub_modalRegisterBiblio','view');"><span>취소</span></button>
			<button type="button" class="btn btnText mainColor large jcarousel-control-next"><span>다음</span></button>
		</div>
		<div class="modalFooter btNone" id="pub_modalFooterPrev" style="display:none;">
			<button type="button" class="btn btnText subColor large jcarousel-control-prev"><span>이전</span></button>
			<button type="button" class="btn btnText mainColor large" id="#pub_modalRegisterBiblio" onclick="fnNodeRegist();fn_statistics('R106', '', '')"><span>확인</span></button>
		</div>
	</div>
</div>

<div id="pub_modalViewBiblio" class="modal" style="max-width:526px;">
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit" id="dev_view_title">서지정보 수정하기</p>
			<button class="closeModal" onclick="fnModalClose('pub_modalViewBiblio');"><span class="blind">닫기</span></button>
		</div>
		<div class="modalBody">
			<div class="jcarousel-wrapper">
				<div class="jcarousel">
					<ul class="list">
						<li class="item">
							<div class="layerWrap"  id="pub_biblioViewInfo">
								<input type="hidden" id="dev_node_id"/>
								<input type="hidden" id="dev_thesis_info_id"/>
								<div class="layer1 mt-1" style="display:none;">
									<div class="formGroup" id="view_data_div">
										<p class="tit">자료유형</p>
										<ul>
											<li>
												<span id="dev_view_data_div"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_node_title">
										<p class="tit">제목</p>
										<ul>
											<li>
												<span id="dev_view_node_title"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_autr_nm">
										<p class="tit">저자</p>
										<ul>
											<li>
												<span id="dev_view_autr_nm"></span>	
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_source">
										<p class="tit">출처(저널)</p>
										<ul>
											<li>
												<span id="dev_view_source"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_pbsh_yy">
										<p class="tit">발행연월</p>
										<ul>
											<li>
												<span id="dev_view_pbsh_yy"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_vol">
										<p class="tit">권</p>
										<ul>
											<li>
												<span id="dev_view_vol"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_isue">
										<p class="tit">호</p>
										<ul>
											<li>
												<span id="dev_view_isue"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_page">
										<p class="tit">페이지</p>
										<ul>
											<li>
												<span id="dev_view_page"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_iprd_nm">
										<p class="tit">발행기관</p>
										<ul>
											<li>
												<span id="dev_view_iprd_nm"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_pbsh_city">
										<p class="tit">발행도시</p>
										<ul>
											<li>
												<span id="dev_view_pbsh_city"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_doi">
										<p class="tit">DOI</p>
										<ul>
											<li>
												<span id="dev_view_doi"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_url">
										<p class="tit">URL</p>
										<ul>
											<li>
												<span id="dev_view_url"></span>
											</li>
										</ul>
									</div>
									<div class="formGroup" id="view_memo">
										<p class="tit">기타 메모</p>
										<ul>
											<li>
												<span id="dev_view_memo"></span>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</li>
						<li class="item">
							<div class="formGroup h100per">
								<p class="tit fixed">초록</p>
								<ul class="h100per fixed">
									<li class="h100per">
										<span class="gInputText h100per">
											<textarea cols="50" rows="5" class="fTextarea w100per h100per biblioAbstract" id="dev_abstract" name="" title="초록" readonly="readonly"></textarea>
										</span>
									</li>
								</ul>
							</div>						
						</li>
					</ul>
				</div>
				<div class="jcarousel-control" id="jcarouselControl">
					<a href="#" class="jcarousel-control-prev"><span class="blind">&lsaquo;</span></a>
					<a href="#" class="jcarousel-control-next"><span class="blind">&rsaquo;</span></a>					
					<p class="jcarousel-pagination">
				</div>
			</div>
		</div>
		<div class="modalFooter btNone">
			<button type="button" class="btn btnText darkGrayColor large btnLine pullLeft" id="dev_origin_biblio" onclick="fnOriginBiblio();"><span>원본 보기</span></button>
			<button type="button" class="btn btnText darkGrayColor large btnLine pullLeft" id="dev_my_biblio" onclick="fnBiblioInfo();"><span>수정서지보기</span></button>
			<button type="button" class="btn btnText subColor large" onclick="fnModalClose('pub_modalViewBiblio');"><span>닫기</span></button>
			<button type="button" class="btn btnText mainColor large" id="dev_modify_btn" onclick="fnUpdateNode();"><span>수정</span></button>
		</div>
	</div>
</div>

<div id="pub_modalQuoteThesis" class="modal" style="max-width:526px;">
	<input type="hidden" id="dev_sel_quote"/>
	<input type="hidden" id="dev_sel_quote_nm"/>
	<input type="hidden" name="thesis_id" id="dev_thesis_id"/>
	<form id="quoteForm" action="https://www.dbpia.co.kr/mylib/quoteExcelDownload" method="post">
		<input type="hidden" name="quote_node_id" id="dev_quote_node_id"/>
		<input type="hidden" name="type" id="dev_type"/>
		<input type="hidden" name="quote_type" id="quote_type"/>
		<input type="hidden" name="data_type" id="dev_data_type" value="mynode"/>
		<input type="hidden" name="contents" id="dev_contents"/>
		<input type="hidden" name="lang" id="dev_lang"/>
	</form>
	
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit">인용하기</p>
			<button class="closeModal" id="#pub_modalQuoteThesis"><span class="blind">닫기</span></button>
		</div>
		<div class="modalBody type05">
			<form>
				<div class="tableLayout mt-15">
					<table class="noLine">
						<caption>게시판 목록</caption>
						<colgroup>
							<col style="width:120px;">
							<col style="width:auto;">
						</colgroup>
						<tbody>
							<tr>
								<th>양식 선택</th>
								<td></td>
							</tr>
					</table>
				</div>
				<div class="scrollSelectList">
					<ul class="list" id="dev_quoteList">
					</ul>
				</div>
				<div class="btnGroup">
					<button type="button" class="btn btnText subColor medium fs12 btnForms" id="dev_btn_quoteType" onclick="fnAdminQuoteList();"><span>기본 양식 불러오기</span></button>
					<div class="tooltipWrap">
						<span class="blind">도움말</span>
						<div class="tooltip">
							<a href="#none" class="btnTooltip">도움말 보기</a>
							<p class="desc leftTop">
								DBpia가 기본 제공하는 양식을 불러옵니다.
							</p>
						</div>
					</div>
					<button type="button" class="btn btnIconB darkGrayColor medium btnLine fs12 pullRight" onclick="location.href='/mylib/quoteSetting';"><span class="gear">인용양식설정</span></button>
				</div>
				<div class="tableLayout">
					<table class="noLine">
						<caption>게시판 목록</caption>
						<colgroup>
							<col style="width:120px;">
							<col style="width:auto;">
						</colgroup>
						<tbody>
							<tr>
								<th>언어 선택</th>
								<td>
									<span class="fRadio">
										<input type="radio" id="radio_01" name="choice" value="K" checked="checked"/>
										<label for="radio_01">한국어</label>
									</span>
									<span class="fRadio">
										<input type="radio" id="radio_02" name="choice" value="E"/>
										<label for="radio_02">영어</label>
									</span>
								</td>
							</tr>
							<tr>
								<th>인용양식 다운로드</th>
								<td>
									<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('1');"><span>클립보드 복사</span></button>
									<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('2');"><span>HTML 다운로드</span></button>
									<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('3');"><span>TXT 다운로드</span></button>
								</td>
							</tr>
					</table>
				</div>
				<div class="downloadBox">
					<p class="tit">서지정보 내보내기</p>
					<p class="btnGroup">
						<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('4');"><span>Endnote</span></button>
						<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('5');"><span>Refworks</span></button>
						<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('6');"><span>Mendeley</span></button>						
						<span class="quote_box">
							<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('10')"><span>한글2018/Word</span></button>
						</span>
						<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('8');"><span>Bibtex</span></button>
						<button type="button" class="btn btnText darkGrayColor medium btnLine fs12" onclick="fnMyLibQuoteDownload('9');"><span>Excel</span></button>						
					</p>
				</div>
				<textarea id="dev_textarea" style="height:1px; border:0; overflow:hidden;"></textarea>
			</form>
		</div>
	</div>
</div>

<!-- 모달: 구매하기 (시작) -->
<div id="pub_modalBuying" class="modal" style="max-width:526px;">
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit">구매하기</p>
			<button class="closeModal" id="#pub_modalBuying"><span class="blind">닫기</span></button>
		</div>
		<div class="modalBody">
			<div class="comtBox type05 txtCenter">
				
					
					
						잠깐! 구매하시기 전에 소속기관의 DBpia 구독 여부를 확인하세요.<br />구독기관 소속이시면 소속기관의 구독 논문을 이용하실 수 있습니다.<br /><a href="https://www.dbpia.co.kr/member/b2bLogin" style="text-decoration:underline;">구독기관 조회하기</a>
					
				
				<ul>
					<li>
						
							
							
								소속기관이 없으시거나 구독하지 않는 기관 소속이실 경우 논문을 구매하셔야 합니다.<br />구독기관 소속이시더라도 계약범위에 따라 유료 논문일 수 있습니다.
							
						
					</li>
					<li>장바구니에는 최대 30편까지 보관하실 수 있습니다.</li>
				</ul>
			</div>			
		</div>
		<div class="modalFooter txtCenter" >
			<button class="btn btnText subColor large" onclick="setCart(this)"><span>장바구니 담기</span></button>
			<button class="btn btnText mainColor large closeModal" id="#pub_modalBuying" onclick="buyContent(this)"><span>바로 구매하기</span></button>
		</div>		
	</div>
</div>



<!-- //모달 -->

<form style="display:none;" name="ExportRWForm" id="dev_exportRWForm" method="post" action="https://www.refworks.com/express/ExpressImport.asp?vendor=Nurimedia%20DBPIA&filter=RefWorks%20Tagged%20Format&encoding=65001">
	<table>
		<tr>
			<td>
				<textarea name="ImportData" readonly rows="20" cols="180" style="border-color:rgb(204,204,204); border-style:solid ; visibility: hidden;">
				</textarea>
			</td>
		</tr>
	</table>				
</form>


    
<!-- 모달: 미리보기 (시작) -->
<div id="pub_modalQuickView" class="modal" style="max-width:813px;">
	<span class="modalScreen"></span>
	<div class="modalContent">
		<div class="modalHeader">
			<p class="tit"><span id="dev_title">공식 스폰서와 앰부시 마케팅의 광고 크리에이티브 효과 : 2009 광저우 아시안게임을 중심으로</span></p>
			<button class="closeModal" id="#pub_modalQuickView"><span class="blind">닫기</span></button>
		</div>
		<div class="modalBody">
			<div class="comtBox type07" id="pub_comtBox" data="">
				<input id="dev_preview_nodeId" type="hidden" value=""/>
				<ul>
					<li><span id="dev_total_page"></span> 페이지로 구성된 논문입니다.</li>
					<li>구매 후 전체 페이지를 이용하세요.</li>
				</ul>
				<button onclick="prevBuy(this);fn_statistics('Z122', '', '')" class="btn btnText pointColor large btnBuying"><span>구매하기</span></button>
			</div>
			<div class="quickViewWrap">
				<div class="quickViewBox">
					<div class="jcarousel-wrapper">
						<div class="jcarousel" id="pub_jcarousel">
							<ul id="dev_imgList" class="quickViewList">
								<li class="quickViewItem">
									<img src="https://www.dbpia.co.kr/images/search/img_quickview01.jpg" />
								</li>
							</ul>
						</div>
					</div>					
				</div>
			</div>
		</div>
	</div>
</div>
<script>
function prevBuy(elem){	
	setCookie("location",null,0);
	var b2cId = "";
	var nodeId = $("#dev_preview_nodeId").val().split("|")[0];	
	if(b2cId == ""){
		$.fn.openLayer('#pub_modalLoginPop', Number($('#pub_modalQuickView').parent().css('z-index'))+1000);
	}else{
		setCookie("location","/pay/contentBuy?nodeId="+nodeId,1);
		location.href="https://www.dbpia.co.kr/pay/contentBuy?nodeId="+nodeId;
	}				
}
</script>

<script type="text/javascript">
(function($) {
	$(function() {				
		$('#pub_modalRegisterBiblio .jcarousel').jcarousel();

		$('#pub_modalRegisterBiblio .jcarousel-control-prev')
			.on('jcarouselcontrol:active', function() {
				$(this).removeClass('inactive');
			})
			.on('jcarouselcontrol:inactive', function() {
				$(this).addClass('inactive');
				$('#pub_modalFooterNext').show();
				$('#pub_modalFooterPrev').hide();
			})
			.jcarouselControl({
				target: '-=1'
			});

		$('#pub_modalRegisterBiblio .jcarousel-control-next')
			.on('jcarouselcontrol:active', function() {
				$(this).removeClass('inactive');
			})
			.on('jcarouselcontrol:inactive', function() {
				$(this).addClass('inactive');
				$('#pub_modalFooterNext').hide();
				$('#pub_modalFooterPrev').show();
			})
			.jcarouselControl({
				target: '+=1'
			});

		$('#pub_modalFooterNext').hide();
	});
})(jQuery);

//등록입력폼에서 자료유형 변경 시
$("#pub_selectDataType").change(function() {
	var state = $('#pub_selectDataType option:selected').val();
	/* 숨김값 초기화 */
	$("#dev_pbsh_city").show();
	$("#dev_source").show();
	$("#dev_doi").show();
	$("#dev_vol").show();
	$("#dev_isue").show();
	$("#dev_page").show();
	$("#dev_iprd_nm").show();
	if($("input[name='mode']").val() == "insert") {
		$(":text").val(''); //입력된 값 초기화
		$("textarea[name='abstract1']").html("");
	}
	modalChange(state);
});

function modalChange(state) {
	$("#dev_pbsh_city").show();
	$("#dev_source").show();
	$("#dev_doi").show();
	$("#dev_vol").show();
	$("#dev_isue").show();
	$("#dev_page").show();
	$("#dev_iprd_nm").show();
	$("#dev_pbsh_yy").show();
	
	if(state == "자료유형 선택") {
		$('#pub_comtBox_modal ul li:eq(1)').show();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioAbstract').hide();
		$('#dev_pub_modalFooter').hide();
		$('#pub_modalFooterNext').hide();
	} else if(state == "505001") { //학술논문
		$('#pub_comtBox_modal ul li:eq(1)').hide();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioRegisterInfo').children().children('.layer1').show();
		$('#pub_biblioAbstract').show();
		$('#dev_pub_modalFooter').hide();
		$('#pub_modalFooterNext').show();
		/* 자료유형에 따른 항목 정리 */
		$("#dev_pbsh_city").hide();
	} else if(state == "505003") { //단행본
		$('#pub_comtBox_modal ul li:eq(1)').hide();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioRegisterInfo').children().children('.layer1').show();
		$('#pub_biblioAbstract').show();
		$('#dev_pub_modalFooter').hide();
		$('#pub_modalFooterNext').show();
		/* 자료유형에 따른 항목 정리 */
		$("#dev_source").hide();
		$("#dev_doi").hide();
	} else if(state == "505004") { //웹페이지(기타)
		$('#pub_comtBox_modal ul li:eq(1)').hide();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioRegisterInfo').children().children('.layer1').show();
		$('#pub_biblioAbstract').show();
		$('#pub_modalFooterNext').hide();
		$('#dev_pub_modalFooter').show();
		/* 자료유형에 따른 항목 정리 */
		$("#dev_vol").hide();
		$("#dev_isue").hide();
		$("#dev_page").hide();
		$("#dev_iprd_nm").hide();
		$("#dev_pbsh_city").hide();
		$("#dev_doi").hide();
	} else if(state == "505002") { //학위논문
		$('#pub_comtBox_modal ul li:eq(1)').hide();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioRegisterInfo').children().children('.layer1').show();
		$('#pub_biblioAbstract').show();
		$('#dev_pub_modalFooter').hide();
		$('#pub_modalFooterNext').show();
		/* 자료유형에 따른 항목 정리 */
		$("#dev_source").hide();
		$("#dev_vol").hide();
		$("#dev_isue").hide();
		$("#dev_pbsh_city").hide();
		$("#dev_doi").hide();
	}else {
		$('#pub_comtBox_modal ul li:eq(1)').hide();
		$('#pub_biblioRegisterInfo').children().children().hide();
		$('#pub_biblioRegisterInfo').children().children('.layer1').show();
		$('#pub_biblioAbstract').show();
		$('#dev_pub_modalFooter').hide();
		$('#pub_modalFooterNext').show();
		/* 자료유형에 따른 항목 정리 */
		$("#dev_pbsh_city").hide();
	}
}

$(document).ready(function(){
	var b2cLogin = '';
	var urlParam = document.location.search.replace("?", "").replace(/&/g, "|");

	// 비로그인 폴더로 접속 시 전체논문 페이지로 이동 처리
	if(b2cLogin === '' && urlParam.indexOf('folder=') >= 0){
		location.href = '/mylib/totalNodeList';
	}

	fnSearchNodeList();	// 전체 논문 조회

	$("html").click(function(e) { 
		if(!$(e.target).hasClass("folder")) {
			if($(e.target).closest('.folderManageArea').length == 0 && $(e.target).siblings('.folderManageArea').length == 0) { 
				$("#pub_folderManageArea").hide();
				$("#dev_folder_manage").removeClass("open");
			} 
		}
	}); 

	$("#pub_modalViewBiblio .formGroup ul li").addClass("verMiddle");

	// 삭제 버튼 클릭
	$("#pub_alertPop1").click(function () {
		var lang = getCookie("language")
		if(b2cLogin === ''){	// 비로그인일 경우 쿠키에 있는 논문 정보 삭제 처리
			$.jQueryAlertTwoButton("선택하신 논문을 삭제하시겠습니까?", lang);
			$(".ui-dialog-buttonset button").on("click",function(){
				if($(this).html()==="확인" || $(this).html()==="Ok"){
					$('input[type=checkbox]').each(function(){
						var thisId = $(this).attr('id');
						if(thisId.indexOf('pub_check') === 0 && thisId !== 'pub_check_all' && $(this).prop('checked')){
							setCookies('bookmark', $(this).val(), 1);
							fnSearchNodeList();	// 전체 논문 조회
							fncMyStudyIconRefresh();	// 비회원 내서재 북마크 개수 표시
						}
					});
				}
			});
		} else {	// 로그인일 경우 DB에 있는 북마크 정보 삭제 처리
			var folder = $("input[name='folder']").val();
			if(folder === "") {
				$.jQueryAlertTwoButton("삭제하실 경우 해당 논문이 속한 모든 폴더에서 삭제됩니다.<br />서지정보를 수정하신 논문은 수정 내용도 삭제되며 복구하실 수 없습니다.<br />선택하신 논문을 내서재에서 삭제하시겠습니까?<br /><ul><li>논문이 속한 내서재의 모든 폴더 ('전체논문' 폴더 포함)</li><li>수정한 서지정보</li>", lang);
			}else {
				$.jQueryAlertTwoButton("선택하신 논문을 폴더에서 삭제합니다.<br />폴더에서 삭제하더라도 북마크는 유지되며 '전체 논문'에서 확인하실 수 있습니다.", lang);
			}

			$(".ui-dialog-buttonset button").on("click",function(){
				if($(this).html()==="확인" || $(this).html()==="Ok"){
					fnNodeDelte();
				}
			});
		}
	});

	var last_quote_type = "";
	var cttn_div_code = "";
	if(last_quote_type == "N" && cttn_div_code == "414002") {
		fnAdminQuoteList();
	}else {
		fnSearchUserQuote();
	}

	// 전체논문 검색어 입력 후 엔터 클릭
	$("#dev_searchText").keyup(function(e){
		if(e.keyCode === 13){
			$('#btnInnserSearch').trigger('click');
		}
	});

	var folder = $("input[name='folder']").val();
	if(folder != '') {
		$("#droppable"+folder).addClass("backColor");
	}
	
	$(".checkButtonActive").change(function() {
		$("#pub_folderManageArea").hide();
		$("#dev_folder_manage").removeClass("open");
	});

	var date = new Date();
	var year = date.getFullYear();
	$('#pub_monthPicker1').monthpicker({pattern: 'yyyy.mm', 
		selectedYear: year,
		startYear: 1900,
		finalYear: year,
	});

	$('#pub_monthPickerButton').bind('click', function () {
		$(this).siblings('input').monthpicker('show');
	});

	$(".popup_tooltip .btn_close").click({div: '3'}, promotionStatistics);
	$(".popup_tooltip .btn_manual").click({div: '4'}, promotionStatistics);


	// 비로그인 내서재 로그인 권유 툴팁
	if(b2cLogin === ''){
		var tooltipMsg;
		var thesisCnt = $('.dev_total_cnt').text().replace(/[()]/gi, '');
		if(thesisCnt !== '' && thesisCnt !== "0"){
			/* 개인회원 로그인을 하지 않으면<br/>개인 입력 기록이 모두 삭제됩니다.<br/>로그인 하시겠습니까? */
			tooltipMsg = '개인회원 로그인을 하지 않으면<br/>24시간 후, 북마크 기록이 모두 삭제됩니다.<br/>로그인 하시겠습니까?';
		} else {
			/* 논문을 북마크해서 언제 어디서나!<br/>다양한 기기를 통해 논문을 확인하세요<br/>참고문헌 인용정보를 한번에 반출해보세요. */
			tooltipMsg = '논문을 북마크해서 언제 어디서나!<br/>다양한 기기를 통해 논문을 확인하세요<br/>참고문헌 인용정보를 한번에 반출해보세요.';
		}
		$('.tooltip_title').html(tooltipMsg);
		var animateSlide = 1500;
		var tooltipNew = $(".popup_tooltip.tooltip_new");

		if(tooltipNew.length > 0) {
			if($(window).width() <= 526){
				tooltipNew.css({'bottom':'20px'});	// 툴팁 시작 위치 세팅
				tooltipNew.show().animate({ bottom:20, right:20, opacity:1 }, animateSlide);
			} else {
				tooltipNew.show().animate({ right:20, opacity:1 }, animateSlide);
			}
		}

		$(".popup_tooltip .btn_close").on("click", function() {
			$(this).closest(".popup_tooltip").stop(true,true).fadeOut(200);
			return false;
		});
	}
});

//등록하기 버튼 클릭 시
function fnRegisterBiblio() {
	jcarouselControlRegist();
	$.fn.openLayer('#pub_modalRegisterBiblio');
	$("#dev_dataType_reg").show();
	$("#dev_dataType_view").hide();
	$("#pub_selectDataType option:eq(0)").prop('selected',true);
	$("#pub_selectDataType").siblings('span').text("자료유형 선택");
	$('#pub_comtBox_modal ul li:eq(1)').show();
	$('#pub_biblioRegisterInfo').children().children().hide();
	$('#pub_biblioAbstract').hide();
	$('#dev_pub_modalFooter').hide();
	$('#pub_modalFooterNext').hide();
	$("#dev_modal_title").text('등록');
	$("#abstract1").val("");
	$("input[name='mode']").val("insert");
	$("#dev_pub_modalFooter button:nth(0)").attr('onclick','fnModalClose("pub_modalRegisterBiblio")');
	$("#pub_modalFooterNext button:nth(0)").attr('onclick','fnModalClose("pub_modalRegisterBiblio")');
	$(".placeholder").show();
}

function fnNodeRegist() {

	var nodeRegistType = $('#pub_selectDataType option:selected').val();
	if(nodeRegistType == "자료유형 선택") {
		nodeRegistType = $("#dev_type_input").val();
	}
	if(nodeRegistType == "505001") {
		$("input[name='node_type_code']").val("505001");
	}else if(nodeRegistType == "505003") {
		$("input[name='node_type_code']").val("505003");
	}else if(nodeRegistType == "505004") {
		$("input[name='node_type_code']").val("505004");
	}else if(nodeRegistType == "505002") {
		$("input[name='node_type_code']").val("505002");
	}
	
	var pbsh_yymm = $("input[name='dev_pbsh_yy']").val();
	if($("input[name='dev_pbsh_yy']").val() != '') {
		pbsh_yymm = pbsh_yymm.split('.');
		$("input[name='pbsh_yy']").val(pbsh_yymm[0]);
		$("input[name='pbsh_mm']").val(pbsh_yymm[1]);
	}
	
	if($("input[name='title']").val() == '') {
		alert("제목을 입력해주세요.");
		return;
	}
	
	var formData = $("#nodeRegistForm").serialize() + "&abstract1=" + $("textarea[name='abstract1']").val();
	
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/myNodeRegist",
		data: formData,
		success:function(data) {
			if(data == 0) {
				loadingOpen();
				location.reload();
			}else {
				$.jQueryAlert("오류가 발생했습니다.");
			}
		}
	});
}
//수정하기 버튼 클릭 시
function fnUpdateNode(id) {
	$(":text").val(''); //입력된 값 초기화
	$.fn.closeLayer("#pub_modalViewBiblio");
	$.fn.openLayer("#pub_modalRegisterBiblio");
	var thesis_id = id;
	if(typeof thesis_id == "undefined") {
		thesis_id = $("#dev_thesis_info_id").val();
	}
	jcarouselControlRegist();
	$("#pub_biblioRegisterInfo").children().children('.layer1').show();
	$("#pub_comtBox_modal ul li:nth(1)").hide();

	$("#dev_pub_modalFooter button:nth(0)").attr('onclick','fnModalClose("pub_modalRegisterBiblio","view")');
	$("#pub_modalFooterNext button:nth(0)").attr('onclick','fnModalClose("pub_modalRegisterBiblio","view")');
	
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/myNodeInfo",
		data: {"thesis_id": thesis_id},
		success:function(data) {
			modalChange(data.data_div_code);
			$("#dev_modal_title").text('수정');
			$("input[name='thesis_id']").val(data.b2c_memb_thesis_info_id);

			$("#dev_dataType_reg").hide();
			$("#dev_dataType_view").show();
			
			$(".dev_type_view").html(data.data_div);
			$("#dev_type_input").val(data.data_div_code);
			
			if(ifnull(data.node_ttle) != "") {
				$("input[name='title']").val(ifnull(data.node_ttle));
				$("input[name='title']").siblings(".placeholder").hide();
			}else {
				$("input[name='title']").siblings(".placeholder").show();
			}
			if(ifnull(data.autr_nm) != "") {
				$("input[name='autr_nm']").val(ifnull(data.autr_nm).replace(/,/g,';'));
				$("input[name='autr_nm']").siblings(".placeholder").hide();
			}else {
				$("input[name='autr_nm']").siblings(".placeholder").show();
			}
			if(ifnull(data.pvnc_nm) != "") {
				$("input[name='source']").val(ifnull(data.pvnc_nm));
				$("input[name='source']").siblings(".placeholder").hide();
			}else {
				$("input[name='source']").siblings(".placeholder").show();
			}
			if(ifnull(data.pbsh_yy) != "" || ifnull(data.pbsh_mm) != "") { //달력에서 년월선택되게 하는 로직
				var pbsh_yymm = "";
				if(ifnull(data.pbsh_mm) != "") {
					pbsh_yymm = data.pbsh_yy + "." + data.pbsh_mm;
				}
				$("input[name='dev_pbsh_yy']").val(pbsh_yymm);
				$(".mtz-monthpicker-year option[value='"+ifnull(data.pbsh_yy)+"']").attr("selected",true);
				for(var i=0; i<$(".mtz-monthpicker-month").length; i++) {
					if($(".mtz-monthpicker-month:nth("+i+")").attr("data-month") == ifnull(data.pbsh_mm)) {
						$(".mtz-monthpicker-month:nth("+i+")").addClass("ui-state-active");
					}
				}
			}
			if(ifnull(data.vol) != '') {
				$("input[name='vol']").val(data.vol);
				$("input[name='vol']").siblings(".placeholder").hide();
			}else {
				$("input[name='vol']").siblings(".placeholder").show();
			}
			if(ifnull(data.isue) != '') {
				$("input[name='isue']").val(data.isue);
				$("input[name='isue']").siblings(".placeholder").hide();
			}else {
				$("input[name='isue']").siblings(".placeholder").show();
			}
			if(ifnull(data.frst_page) != '') {
				$("input[name='start_page']").val(data.frst_page);
				$("input[name='start_page']").siblings(".placeholder").hide();
			}else {
				$("input[name='start_page']").siblings(".placeholder").show();
			}
			if(ifnull(data.end_page) != '') {
				$("input[name='end_page']").val(data.end_page);
				$("input[name='end_page']").siblings(".placeholder").hide();
			}else {
				$("input[name='end_page']").siblings(".placeholder").show();
			}
			if(ifnull(data.iprd_nm) != '') {
				$("input[name='iprd_nm']").val(data.iprd_nm);
				$("input[name='iprd_nm']").siblings(".placeholder").hide();
			}else {
				$("input[name='iprd_nm']").siblings(".placeholder").show();
			}
			if(ifnull(data.pbsh_city) != '') {
				$("input[name='pbsh_city']").val(data.pbsh_city);
				$("input[name='pbsh_city']").siblings(".placeholder").hide();
			}else {
				$("input[name='pbsh_city']").siblings(".placeholder").show();
			}
			if(ifnull(data.doi_info) != '') {
				$("input[name='doi']").val(data.doi_info);
				$("input[name='doi']").siblings(".placeholder").hide();
			}else {
				$("input[name='doi']").siblings(".placeholder").show();
			}
			if(ifnull(data.url) != '') {
				$("input[name='url']").val(data.url);
				$("input[name='url']").siblings(".placeholder").hide();
			}else {
				$("input[name='url']").siblings(".placeholder").show();
			}
			if(ifnull(data.etc_note) != '') {
				$("input[name='memo']").val(data.etc_note);
				$("input[name='memo']").siblings(".placeholder").hide();
			}else {
				$("input[name='memo']").siblings(".placeholder").show();
			}

			$("input[name='mode']").val("modify");
			$("textarea[name='abstract1']").val(data.abst);
		}
	});
	
}
//서지정보 보기
function fnBiblioInfo(id) {
	$.fn.closeLayer("#pub_modalRegisterBiblio");
	var thesis_id = id;
	if(typeof thesis_id == "undefined") {
		thesis_id = $("input[name='thesis_id']").val();
	}
	jcarouselControlView();
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/myNodeInfo",
		data: {"thesis_id": thesis_id},
		success:function(data) {
			$("#dev_view_title").text('서지정보');
			$("input[name='thesis_id']").val(data.b2c_memb_thesis_info_id);
			$("#pub_biblioViewInfo").children('.layer1').show();
			$("#dev_view_data_div").html(ifnull(data.data_div));
			$("#dev_view_node_title").html(ifnull(data.node_ttle));
			$("#dev_view_autr_nm").html(ifnull(data.autr_nm).replace(/,/g,';'));
			$("#dev_view_source").html(ifnull(data.pvnc_nm));
			var pbsh_date = '';
			if(ifnull(data.pbsh_yy) != '') {
				pbsh_date += ifnull(data.pbsh_yy);
			}
			if(ifnull(data.pbsh_mm) != '') {
				pbsh_date += ".";
				pbsh_date += ifnull(data.pbsh_mm);
			}
			$("#dev_view_pbsh_yy").html(pbsh_date);
			if(ifnull(data.vol) != '') {
				$("#dev_view_vol").html("제"+data.vol+"권");
			}else {
				$("#dev_view_vol").html("");
			}
			if(ifnull(data.isue) != '') {
				$("#dev_view_isue").html(ifnull(data.isue)+"호");
			}else {
				$("#dev_view_isue").html("");
			}
			$("#dev_view_page").html(ifnull(data.frst_page)+" - "+ifnull(data.end_page));
			$("#dev_view_iprd_nm").html(ifnull(data.iprd_nm));
			$("#dev_view_pbsh_city").html(ifnull(data.pbsh_city));
			$("#dev_view_doi").html(ifnull(data.doi_info));
			$("#dev_view_url").html(ifnull(data.url));
			$("#dev_view_memo").html(ifnull(data.etc_note));
			$("#dev_abstract").html(ifnull(data.abst));
			$("div[id^='view_']").show();
			if(data.data_div_code == "505001") {
				$("#view_pbsh_city").hide();
				$("#jcarouselControl").show();
			}else if(data.data_div_code == "505003") {
				$("#view_source").hide();
				$("#view_doi").hide();
				$("#jcarouselControl").show();
			}else if(data.data_div_code == "505004") {
				$("#view_vol").hide();
				$("#view_isue").hide();
				$("#view_page").hide();
				$("#view_iprd_nm").hide();
				$("#view_pbsh_city").hide();
				$("#view_doi").hide();
				$("#jcarouselControl").hide();
			}else if(data.data_div_code == "505002") {
				$("#view_source").hide();
				$("#view_vol").hide();
				$("#view_isue").hide();
				$("#view_pbsh_city").hide();
				$("#view_doi").hide();
				$("#jcarouselControl").show();
			}
			$("#dev_thesis_info_id").val(data.b2c_memb_thesis_info_id);
			
			if(ifnull(data.node_id) == "") {
				$("#dev_origin_biblio").hide();
			}else {
				$("#dev_origin_biblio").show();
				$("#dev_node_id").val(data.node_id);
			}
			/* 하단 버튼 제어 */
			$("#dev_my_biblio").hide();
			$("#dev_modify_btn").show();
		}
	});
	
	$.fn.openLayer('#pub_modalViewBiblio');
}

function fnNodeDelte() {
	var chkField = $(".checkButtonActive");	
    var seq = $("input[name='b2c_memb_thesis_info_id']");        
	var folder = $("input[name='folder']").val();
	var checkedseq = "";
    var checkedCount = 0;
    var temp = 0;
	if(chkField) {
        if(chkField.length > 0) {
            for(var i=0; i < chkField.length; i++) {            	
            	if(chkField[i].checked) {
            		checkedseq += ((checkedCount==0? "" : ";") + seq[i].value);
            		temp++
            	}
            	checkedCount++;            	
            }
        }
	}
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/myNodeDelete",
		data: {"thesis_info_id": checkedseq, "folder": folder},
		success:function(data) {
			//fnSearchNodeList();	// 전체 논문 조회
			//fnFolderList(); 		// 좌측 폴더메뉴 다시그리기
			location.reload();
			$("#pub_check_all").attr("checked",false);
			fncB2cMembMyStudyIconRefresh('');	// 상단 내서재 표시 개수 수정
		}
	});
}

//원문보기
function fnOriginBiblio() {
	var node_id = $("#dev_node_id").val();
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/myOriginNodeInfo",
		data: {"node_id": node_id},
		success:function(data) {
			$("#dev_view_title").text('서지정보(원본)');
			$("#pub_biblioViewInfo").children('.layer1').show();
			$("#dev_view_data_div").text(ifnull(data.data_div));
			$("#dev_view_node_title").text(ifnull(data.node_ttle));
			$("#dev_view_autr_nm").text(ifnull(data.autr_nm).replace(/,/g,';'));
			$("#dev_view_source").text(ifnull(data.plct_nm));
			var pbsh_date = '';
			if(ifnull(data.pbsh_yy) != '') {
				pbsh_date += ifnull(data.pbsh_yy);
			}
			if(ifnull(data.pbsh_mm) != '') {
				pbsh_date += ".";
				if(data.pbsh_mm.length < 2) {
					pbsh_date += "0";
				}
				pbsh_date += ifnull(data.pbsh_mm);
			}
			$("#dev_view_pbsh_yy").text(pbsh_date);
			if(ifnull(data.vol) != "") {
				$("#dev_view_vol").text("제"+data.vol+"권");
			}else {
				$("#dev_view_vol").text("");
			}
			if(ifnull(data.isue) != "") {
				$("#dev_view_isue").text(ifnull(data.isue)+"호");
			}else {
				$("#dev_view_isue").text("");
			}
			if(ifnull(data.frst_page) != "" || ifnull(data.end_page) != "") {
				$("#dev_view_page").text(ifnull(data.frst_page)+" - "+ifnull(data.end_page));
			}
			$("#dev_view_iprd_nm").text(ifnull(data.iprd_nm));
			$("#dev_view_doi").text(ifnull(data.doi_info));
			$("#dev_view_url").text(ifnull(data.url));
			$("#dev_view_memo").text(ifnull(data.etc_note));
			$("#dev_abstract").text(ifnull(data.abst));
			$("div[id^='view_']").show();
			
			$("#view_pbsh_city").hide();
			$("#jcarouselControl").show();
			/* 하단 버튼 제어 */
			$("#dev_origin_biblio").hide();
			$("#dev_my_biblio").show();
			$("#dev_modify_btn").hide();
		}
	});
}

function fnNodeSort(type) {

	// 기능이용통계 처리
	var varStatCode;
	switch (type){
		case 'rgst':
			varStatCode = 'R115';
			break;
		case 'updt':
			varStatCode = 'R116';
			break;
		case 'autr':
			varStatCode = 'R117';
			break;
	}
	fn_statistics(varStatCode, '', '');
	$("input[name='sort']").val(type);
	$("#pub_check_all").prop("checked",false);
	$('#btnInnserSearch').trigger('click');
}

/**
 * 페이징 처리 callback 함수
 * */
fncSearchLinkList = function(currPage, pageSize, section){
	$("input[name='currPage']").val(currPage);
	$("input[name='pageSize']").val(pageSize);

	if(section === 'PC'){
		$("#dev_nodeList").empty();
	}

	fnSearchNodeList();	// 북마크 논문 검색
};

// 모바일 더보기 타이틀 ( js 파일에서 국제화 처리 사용하기 위해 미리 세팅 )
var moreViewTtle = '더보기';

// 내서재 전체논문 내 검색 버튼 클릭 ( 돋보기 버튼 )
$(document).on('click', '#btnInnserSearch', function(){
	$("input[name='currPage']").val('1');
	$("input[name='pageSize']").val(pagingObj.pageCount);
	fnSearchNodeList('innSrh');	// 북마크 논문 검색
});

/**
 * 내서재 북마크 논문 검색
 * @param type
 */
function fnSearchNodeList(srhSec) {

	loadingOpen();	// 로딩바 실행

	// 검색 시 상단 버튼 비활성화 처리
	$("#pub_funcButton").removeClass("active");

	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/searchNodeList",
		data: $("#nodeSearchForm").serialize(),
		async: false,
		success:function(data) {
			
			var b2bLogin = dev_b2bId_chk;
			var b2cLogin = dev_b2cId_chk;
			var searchTxt = $("#dev_searchText").val();	// 검색어

			// 결과내 재검색 or 모바일이 아닐경우 리스트 초기화
			if($(window).width() >= 1065 || srhSec === 'innSrh'){
				$("#dev_nodeList").empty();
			}

			
			// 페이징 처리
			customPaging('.paginate', data.totCnt, data.nodeList, $("input[name='currPage']").val(), 'fncSearchLinkList');
			
			var totalData = data.nodeList;
			if(data.pageSize != null && data.totCnt != null){
				if(data.pageSize >= data.totCnt){
					if(!$(".paginate").hasClass("num")){
						$(".paginate").hide();
					}
				}
			}
			
			if(totalData == 0) {
				$("#dev_nodataArea").show();
				$(".searchListArea").hide();
			}else {
				$("#dev_nodataArea").hide();
				$(".searchListArea").show();
			}

			$(".dev_total_cnt").text("("+data.totCnt+")");

			var lang = getCookie("language");

			// 내서재 북마크 논문 리스트 그리기 시작
			$.each(totalData, function(idx, val) {
				
				var inner = true;
				if(val.url !== null && typeof val.url !== 'undefined' && val.url !== ""){
					inner = val.url.indexOf("dbpia.co.kr") == -1 ? false : true;
				}

				if(ifnull(val.node_id) != '') {
					/*이용 하기*/
					var icons = getAddItem(val.node_id);
					var btnType = icons.buttonType;
				}

				// 로그인 했을 경우에는 내가 북마크한 논문 ID 를 기준으로 checkbox 생성하고
				// 비로그인일 경우 node_id 를 기준으로 checkbox 생성
				var varPrimaryKey;
				if(b2cLogin !== '') varPrimaryKey = val.b2c_memb_thesis_info_id;
				else varPrimaryKey = val.node_id;

				var nodeList = '<input type="hidden" name="b2c_memb_thesis_info_id" value="'+varPrimaryKey+'"/>';
				nodeList += '<li class="item">';
				nodeList += '<input type="hidden" name="hidDonwloadNodeId" id="hiDwNodeId'+idx+'" value="'+val.node_id+'" alt="'+btnType+'"/>';
				nodeList += '<input type="hidden" name="hidInnerChk" id="hidInnerChk'+idx+'" value="'+inner+'"/>';
				nodeList += '<span class="dev_drag_thesis_id">'+varPrimaryKey+'</span>';
				nodeList += '<div class="listBox ui-draggable ui-draggable-handle total" id="draggable'+varPrimaryKey+'">';
				nodeList += '<span class="fCheck">';
				nodeList += '<input type="checkbox" id="pub_check_'+page+'_'+idx+'" name="chkMyStudyThesisChoose" class="checkButtonActive" onclick="fnCheckButton(this);" value="'+varPrimaryKey+'"/>';
				nodeList += '<label for="pub_check_'+page+'_'+idx+'"><span class="blind">체크박스</span></label>';
				nodeList += '</span>';

				if(ifnull(val.folder_nm) != '') {
					nodeList += '<div class="folderWrap gHidden eHidden">';
					nodeList += '<ul class="folder">';
					var folderList = val.folder_nm.split(',');
					var folderIdList = val.folder_id.split(',');
					for(var i=0; i<folderList.length;i++) {
						nodeList += '<li class="name"><a href="https://www.dbpia.co.kr/mylib/totalNodeList?folder='+folderIdList[i]+'" class="txtEllipsis">'+folderList[i]+'</a></li>'
						nodeList += '<input type="hidden" class="folder_nm" value="__'+val.folder_nm.replace(/,/g,'__')+'__"/>';
					}
					nodeList += '</ul>';

					nodeList += '<div class="option">';
					nodeList += '<a href="#none" class="eShowAll" onclick="fnShowAllFolder(this);">';
					nodeList += '<span class="unfold">더보기</span>';
					nodeList += '<span class="fold">닫기</span>';
					nodeList += '</a>';
					nodeList += '</div>';

					nodeList += '</div>';
				}
				nodeList += '<div class="typeWrap">';
				nodeList += '<ul class="type">';
				if(ifnull(val.data_div) != '') {
					nodeList += '<li class="data">'+val.data_div+'</li>';
				}
				if(ifnull(val.node_id) != '') {
					if(btnType <=0 || btnType == 3){
						nodeList += '<li class="use">이용불가</li>';
					}else if(btnType==1){
						nodeList += '<li class="use">이용가능</li>'
					}else{
						nodeList += '<li class="use">구매가능</li>';
					}
					if(val.rate != null && (val.rate == 1 || val.rate == 10)) {
						nodeList += '<li class="rate">TOP '+val.rate.split(".")[0]+'%</li>';
					}
				}
				nodeList += '</ul>';

				if(b2cLogin !== ''){	// 비로그인일 경우 북마크일시 삭제
					nodeList += '<span class="bookmark">';
					if(ifnull(val.node_id) != '')  {
						nodeList += '북마크 일시';
					}else {
						nodeList += '등록 일시';
					}
					if(lang != null && lang.indexOf("e") > -1) {
						nodeList += ' : '+val.rgst_day.substring(0,10).replace(/-/g,'.') +' '+ val.rgst_day.substring(11,13)+':'+ val.rgst_day.substring(14,16);
					}else {
						nodeList += ' : '+val.rgst_day.substring(0,10).replace(/-/g,'.') +' '+ val.rgst_day.substring(11,13)+'시 '+ val.rgst_day.substring(14,16)+'분';
					}
					nodeList += '</span>';
				}

				nodeList += '</div>';
				nodeList += '<div class="titWrap">';
				if(ifnull(val.node_ttle) != '') {
					if(ifnull(val.node_id) != '') {

						// 모바일일 경우 논문 제목 클릭 시 논문 상세로 이동
						if($(window).innerWidth() >= 959){
							if(inner && (btnType === 1 || btnType === 5)){
								if(pdfView != "N") {
									if((location.href).indexOf("?folder") != -1){
										nodeList += '<h5 style="color:#3c63e0;"><a href="javascript:void(0);" onclick="fnPdfView(\''+val.node_id+'\');fn_statistics(\'R102\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'논문보기\',\'event_label\':\'내서재 폴더별\',\'value\':\'1\'})">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</a></h5>';
									}
									else{
									nodeList += '<h5 style="color:#3c63e0;"><a href="javascript:void(0);" onclick="fnPdfView(\''+val.node_id+'\');fn_statistics(\'R102\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'논문보기\',\'event_label\':\'내서재 전체논문\',\'value\':\'1\'})">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</a></h5>';
									}
								} else {
									nodeList += '<h5 style="color:#3c63e0;">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</h5>';
								}
							} else if(inner && btnType === 2){	// 권한이 없을 경우 논문 미리보기 실행
								nodeList += '<h5 style="color:#3c63e0;"><a href="javascript:void(0);" onclick="fnPreView(this,\''+val.node_id+'\');fn_statistics(\'R114\', \''+b2bLogin+'\', \''+b2cLogin+'\')">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</a></h5>';
							} else {
								if(val.articleServiceYN = 'N'){ //이용 중지된 논문일 경우 하이퍼링크 지움
									nodeList += '<h5>'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</h5>';
								} else{
									nodeList += '<h5 style="color:#3c63e0;"><a href="https://www.dbpia.co.kr/journal/articleDetail?nodeId='+val.node_id+'" onclick="fn_statistics(\'R110\', \''+b2bLogin+'\', \''+b2cLogin+'\')">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</a></h5>';
								}
							}
						} else {	// 모바일일 경우 논문제목 선택 시 논문상세로 이동
							if(val.articleServiceYN = 'N'){ //이용 중지된 논문일 경우 하이퍼링크 지움
								nodeList += '<h5>'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</h5>';
							} else{
								nodeList += '<h5 style="color:#3c63e0;"><a href="https://www.dbpia.co.kr/journal/articleDetail?nodeId='+val.node_id+'" onclick="fn_statistics(\'R110\', \''+b2bLogin+'\', \''+b2cLogin+'\')">'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</a></h5>';
							}
							
						}
					} else {	// 제목만 출력
						nodeList += '<h5>'+val.node_ttle.replace(searchTxt,"<font color='red'>"+searchTxt+"</font>")+'</h5>';
					}
				}
				if(ifnull(val.node_id) != '')  {
					nodeList += '<span class="stats" id="pub_usageChart">이용 수<small>'+commaChk(val.article_down_cnt)+'</small></span>';	
				}
				nodeList += '</div>';
				nodeList += '<ul class="info">';
				if(ifnull(val.autr_nm) != '')  {
					var autr_nm = val.autr_nm.split(",");
					if(autr_nm.length > 3) {
						if(lang != null && lang.indexOf("e") > -1) {
							autr_nm = autr_nm[0] + ", " + autr_nm[1] + ", " + autr_nm[2] + " and others "+(autr_nm.length-3);
						}else {
							autr_nm = autr_nm[0] + ", " + autr_nm[1] + ", " + autr_nm[2] + " 외 "+(autr_nm.length-3)+"명";
						}
					}
					nodeList += '<li class="author">'+autr_nm+'</li>';
				}
				if(ifnull(val.iprd_nm) != '')  {
					nodeList += '<li class="publisher">'+val.iprd_nm+'</li>';
				}
				if(ifnull(val.pvnc_nm) != '')  {
					nodeList += '<li class="journal">'+val.pvnc_nm+'</li>';
				}
				if(ifnull(val.vol) != '' || ifnull(val.isue) != '')  {
					nodeList += '<li class="volume">';
					if(ifnull(val.vol) != '') { nodeList += val.vol; }
					if(ifnull(val.vol) != '' && ifnull(val.isue) != '') { nodeList += '('+val.isue+')'; }
					if(ifnull(val.vol) == '' && ifnull(val.isue) != '') { nodeList += val.isue; }
					nodeList += '</li>';
				}
				var pbsh_date = '';
				if(ifnull(val.pbsh_yy) != '') {
					pbsh_date += ifnull(val.pbsh_yy);
				}
				if(ifnull(val.pbsh_mm) != '') {
					pbsh_date += ".";
					pbsh_date += ifnull(val.pbsh_mm);
				}
				nodeList += '<li class="date">'+pbsh_date+'</li>';
				if(ifnull(val.frst_page) != '' || ifnull(val.end_page) != '')  {
					nodeList += '<li class="page">';
					if(ifnull(val.frst_page) != '') {nodeList += commaChk(val.frst_page);}
					if(ifnull(val.end_page) != '') {nodeList += ' - '+commaChk(val.end_page)+'('+commaChk(parseInt(val.end_page - val.frst_page+1))+' pages)';}
					nodeList += '</li>';
				}
				if(ifnull(val.dmst_lstd_info) != '')  {
					nodeList += '<li class="kci">'+val.dmst_lstd_info+'</li>';
				}
				nodeList += '</ul>';
				nodeList += '<div class="btnWrap">';
				nodeList += '<p class="btnGroup">';
				
				
				var msg = "";
				var filter = "win16|win32|win64|mac|macintel";
				if(val.node_id != null)  { //내부논문
					if(ifnull(val.url) == '')  {
						if(btnType == -1){
							if(dev_b2bId_chk != ""){
								msg="구독 중인 기관에서만 이용하실 수 있습니다.";		// 구독 중인 기관에서만 이용하실 수 있습니다.
							}else{
								msg="발행기관의 요청으로 개인이 구매하실 수 없습니다.";		// 발행기관의 요청으로 개인이 구매하실 수 없습니다.
							}
						}
						if(btnType == 0){
							if(ifnull(val.serviceStopReason) != ''){
								msg = getServiceStopMessage(val.serviceStopReason, 4);
							}else{
								msg="이용권한이 없는 논문입니다.";		// 이용권한이 없는 논문입니다.
							}
						} 
						if(btnType == 1){
							if((location.href).indexOf("?folder") != -1){
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="download(\''+val.node_id+'\');fn_statistics(\'R109\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'다운로드\',\'event_label\':\'내서재 폴더별\',\'value\':\'1\'})"><span class="download">다운로드</span></button>';
							}else{
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="download(\''+val.node_id+'\');fn_statistics(\'R109\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'다운로드\',\'event_label\':\'내서재 전체논문\',\'value\':\'1\'})"><span class="download">다운로드</span></button>';
							}
							
							
							if(pdfView != "N") {
								//nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine btnPdfView" onclick="fnPdfView(\''+val.node_id+'\');fn_statistics(\'R102\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">논문보기</span></button>';
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine btnPdfView" onclick="javascript:location.href=\'/journal/articleDetail?nodeId='+val.node_id+'\';fn_statistics(\'R110\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">상세보기</span></button>';
							}
						}
						if(btnType == 2){
							nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="nodeUse(\''+val.node_id+'|147003'+'\');fn_statistics(\'R113\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="use">이용하기</span></button>';
							//nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="fnPreView(this,\''+val.node_id+'\');fn_statistics(\'R114\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">미리보기</span></button>';
							nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="javascript:location.href=\'/journal/articleDetail?nodeId='+val.node_id+'\';fn_statistics(\'R110\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">상세보기</span></button>';
						}
						if(btnType == 3){
							// 저널을 구매한 기관에서만 이용하실 수 있습니다. : 발행기관의 요청으로 개인이 구매하실 수 없습니다.
							msg = b2bLogin != "" ? "저널을 구매한 기관에서만 이용하실 수 있습니다.":"발행기관의 요청으로 개인이 구매하실 수 없습니다.";
						}
						if(btnType == 5){
							if((location.href).indexOf("?folder") != -1){
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine"  onclick="download(\''+val.node_id+'\');fn_statistics(\'R109\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'다운로드\',\'event_label\':\'내서재 폴더별\',\'value\':\'1\'})"><span class="download">다운로드</span></button>';
							}
							else{
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine"  onclick="download(\''+val.node_id+'\');fn_statistics(\'R109\', \''+b2bLogin+'\', \''+b2cLogin+'\');gtag(\'event\', \'click\', {\'event_category\':\'논문이용_new\',\'event_action\':\'다운로드\',\'event_label\':\'내서재 전체논문\',\'value\':\'1\'})"><span class="download">다운로드</span></button>';
							}
							
							if(pdfView != "N") {
								// nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine btnPdfView" onclick="fnPdfView(\''+val.node_id+'\');fn_statistics(\'R102\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">논문보기</span></button>';
								nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine btnPdfView" onclick="javascript:location.href=\'/journal/articleDetail?nodeId='+val.node_id+'\';fn_statistics(\'R110\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="view">상세보기</span></button>';
							}
							msg = '저작권자 요청에 따라 무료로 제공되는 논문입니다. 로그인 후 이용하실 수 있습니다.';
						}
					}
					if(ifnull(val.url) != '') {
						if (filter.indexOf(navigator.platform.toLowerCase()) > 0) {
							nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="fnMoveToMultiCp(\''+val.url+'\',\''+val.node_id+'\', \''+val.node_ttle.replace(/'/gi,"`").replace(/"/gi,"`")+'\', \''+val.node_ttle.replace(/'/gi,"`").replace(/"/gi,"`")+'\', \''+val.iprd_id+'\');fn_statistics(\'R103\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="url">URL 링크</span></button>';
						}
					}
					
					if(val.articleServiceYN = 'N'){//이용 중지된 경우
						msg = '';
					}
					
				} else {
					if(ifnull(val.url) != '')  {
						if (filter.indexOf(navigator.platform.toLowerCase()) > 0) {
							nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="fnMoveToMultiCp(\''+val.url+'\',\''+val.node_id+'\', \''+val.node_ttle.replace(/'/gi,"`").replace(/"/gi,"`")+'\', \''+val.node_ttle.replace(/'/gi,"`").replace(/"/gi,"`")+'\', \''+val.iprd_id+'\');fn_statistics(\'R103\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="url">URL 링크</span></button>';
						}
					}
				}
				

				if(b2cLogin !== ''){	// 비로그인 회원 내서재 이용 시 수정하기 삭제
					nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="fnQuoteModal(\''+val.b2c_memb_thesis_info_id+'\');fn_statistics(\'R104\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="quote">인용하기</span></button>';
					nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" onclick="fnUpdateNode(\''+val.b2c_memb_thesis_info_id+'\');fn_statistics(\'R107\', \''+b2bLogin+'\', \''+b2cLogin+'\')"><span class="edit">수정하기</span></button>';
				} else {
					nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine" name="btnQuote" value="'+val.node_id+'" onclick="fn_statistics(\'R104\', \'' + b2bLogin + '\', \'' + b2cLogin + '\')"><span class="quote">인용하기</span></button>';
					nodeList += '<button type="button" class="btn btnIconB darkGrayColor medium btnLine"><span class="edit" style="color:#999999">수정하기</span></button>';
				}

				if(msg != "") {
					nodeList += '<span class="notice">'+msg+'</span>';		
				}
				if(val.node_id != null && ifnull(icons.date) != '')  {
					var usedate = icons.date.replace(/\//g,".");
					if(lang != null && lang.indexOf("e") > -1) {
						nodeList += '<span class="record">Used on '+monthEn(usedate.substring(5,7)) + ' ' + usedate.substring(8,10) + ', ' + usedate.substring(0,4) +'.</span>';
					}else {
						nodeList += '<span class="record">이 논문을 '+usedate+' 에 이용했습니다.</span>';
					}
				}
				nodeList += '</div>';

				if(val.personalRecordList !== null && val.personalRecordList.length > 0) {
					nodeList += '<button type="button" name="btnFold" class="btn_fold close"></button>';
				}

				nodeList += '</div>';

				if(val.personalRecordList !== null && val.personalRecordList.length > 0){
					nodeList += '<div class="private_histsory">';
					nodeList += '	<p class="tit">개인기록</p>';

					for(var recordCnt=0; recordCnt < val.personalRecordList.length; recordCnt++){
						nodeList += '	<div class="text_box">';
						nodeList += '       <textarea readonly style="width:100%;height:100%;border:0px;">'+val.personalRecordList[recordCnt].epln+'</textarea>';
						nodeList += '       <div class="personInfoDelDiv">';
						nodeList += '           <i class="btn"></i>';
						nodeList += '	        <div class="tooltip_b"><button type="button" class="btn_delete" name="btnDelPersonInfo" value="'+val.personalRecordList[recordCnt].reviewId+'">기록 삭제</button></div>';
						nodeList += '       </div>';
						nodeList += '	</div>';
					}
					nodeList += '</div>';
				}
				

				$("#dev_nodeList").append(nodeList);
			});

			loadingClose();

			// 로그인일 경우에만 논문 드레그 후 폴더이동 사용
			if(b2cLogin !== ''){
                fnDrag();
            }

			if(typeof document.scrollingElement !== 'undefined'){
				document.scrollingElement.scrollTop = moreScrollTop;
			}
			
			
			/* 목표영역 부분 데이터 */
			var goalList = data.goalList;
			if(goalList == 'noDATA') {
				$(".mypage_header").hide();
			}else{
				$(".mypage_header").show();
				$(".mypage_header .mypage_header_name").html('');
				$(".mypage_header .mypage_header_goal").html(goalList.epln);
			}
			
		},
		error:function(e){

			loadingClose();
		}
	});
	
	// 더보기 버튼 적용
	$('.folderWrap').each(function(){
		var eHiddenArea = $(this).outerHeight();

		if(eHiddenArea < 26) {
			$(this).children(".option").hide();
		} else {
			$(this).css('height', '21px');
			$(this).children(".option").show();
		}
	});
	
}

// 개인기록 처리 툴팁 실행
$(document).on('mouseenter mouseleave', '.personInfoDelDiv', function(e){
	(e.type === 'mouseenter') ? $(this).find('.tooltip_b').show() : $(this).find('.tooltip_b').hide();
	return false;
});

// 개인기록 삭제 버튼 클릭
$(document).on('click', 'button[name=btnDelPersonInfo]', function(e){
	fn_statistics('R121', '', '')
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/setMemoDelete",
		data: {"memo_id": $(this).val()},
		success:function(data) {
			fnSearchNodeList();
		}
	});
});

//페이징 로그 쌓기
$(document).on('click', '#pcPaging ', function(e){
	fn_statistics('R122', '', '')
});

// 개인기록 접었다 펴기
$(document).on('click', 'button[name=btnFold]', function(){
	if($(this).hasClass('open')){
		$(this).parent().next().show();
		$(this).removeClass('open').addClass('close');
	} else {
		$(this).parent().next().hide();
		$(this).removeClass('close').addClass('open');
	}
});

/**
 * 인용하기 클립보드 복사
 **/
$(document).on('click', 'button[name=btnQuote]', function(){
	$.ajax({
		type:'POST',
		url:'/mylib/searchQuoteTitleInfo',
		data:{'nodeId':$(this).val()},
		async: false,
		success:function(data){
			var contents = data.quoteTtl;
			contents = contents.replace(/<ITLC style='font-style:italic'>/g,'').replace(/<\/ITLC>/g,'');

			var tmpElement = document.createElement('textarea');
			tmpElement.value = contents;

			document.body.appendChild(tmpElement);
			tmpElement.select();
			document.execCommand('copy');
			document.body.removeChild(tmpElement);

			$.jQueryAlert('논문의 정보가 복사되었습니다.<br/> 논문을 인용할 위치에서 붙여넣기 하세요.', getCookie('language')); // 논문 정보가 XXX 양식으로 복사되었습니다. 논문을 인용할 위치에서 붙여넣기 하세요.
		}
	});
});

/**
 * 내서재 논문 목록 버튼 enabled / disabled 처리
 */
fncThesisListButtonControl = function(argActive){
	/*
	* .btnThesisDownload 다운로드
	* .btnQuoteModal 인용하기
	* .btnFolderManage 폴더관리
	* .btnAlertPop 삭제
	* */

	var b2cLogin = '';	// 개인 인증
	var disabledButton = '';

	if(b2cLogin === ''){	// 비로그인일 경우 disabled 처리할 버튼 값 세팅
		disabledButton = ', .btnFolderManage, .btnQuoteModal';
	}

	if(argActive){
		// 등록하기 버튼 항상 비활성화 상태 유지 ( 비로그인 )
		$("#pub_funcButton button:not('.btnRegThesis "+disabledButton+"')").addClass("active");
	} else {
		// 등록하기 버튼 항상 활성화 상태 유지 ( 로그인 )
		$("#pub_funcButton button:not('.btnRegThesis "+disabledButton+"')").removeClass("active");
	}
};

// 내서재 논문 목록 전체 선택
function fnCheckAll() {
	$(".checkButtonActive").prop("checked", $(".checkAll").is(":checked"));
	fnCheckButton();
}

// 논문 선택 시 상단 버튼 제어
function fnCheckButton(thisArea) {
	if($("input:checkbox.checkButtonActive").is(":checked") === true){
		fncThesisListButtonControl(true);	// 내서재 논문 목록 버튼 enabled 처리
	}else{
		fncThesisListButtonControl(false);	// 내서재 논문 목록 버튼 disabled 처리
		$("#pub_folderManageArea").animate({"top":"15px", opacity:0}, 100);
	}
	
	//개별체크버튼 해제 시 전체 체크버튼 해제
	if(typeof thisArea != "undefined"){
		if($(thisArea).is(":checked") == false) $("#pub_check_all").prop("checked",false);
	}
}

//참고: 내 서재 폴더 관리 적용	
function fnFolderManage(thisarea) {	
	$(".save").show();
	//$(".add").show();
	var spreadBool = $(thisarea).hasClass("open");
	if(spreadBool === false) {
		$(thisarea).addClass("open");
		$("#pub_folderManageArea").show();
		$("#pub_folderManageArea").animate({
			"top":"27px",
			opacity:1
		}, 100);
	} else {
		$(thisarea).removeClass("open");
		$("#pub_folderManageArea").animate({
			"top":"16px",
			opacity:0,
		}, 100, function() {
		$("#pub_folderManageArea").hide();
		});
	}

	var selectCnt = 0;
	var selectNmBak = "";

	var columnNm = ",";
	var columnCnt = ",";
	 
	$(".checkButtonActive").each(function (index2, item) {
		if($(this).is(':checked')) {
			var fNm = $(this).parent().parent().parent().find(".folder_nm").val(); 
			selectNmBak = selectNmBak + fNm;
			selectCnt++;
		}
	});
	$(".folder_check").attr("checked",false);
	$(".folder_check").removeClass("chk");
	$(".folder_check").parent().removeClass("hyphen");
	
	$('.folderChkList').each(function (index1, item) {
		var folder_nm = $(this).text();
		var ch = ".";
		var select_folder = selectNmBak.split("_"+folder_nm+"_");

		if(selectCnt == (select_folder.length-1) && (select_folder.length-1) > 0 ){
			ch = "checked";
		}else if(selectCnt != (select_folder.length-1) && (select_folder.length-1) > 0 ){
			ch = "hyphen";
		}
		folder_nm = folder_nm.replace( /\)/gi, '_').replace( /\(/gi, '_'); 
		if(ch == "checked") {
			$("input[value='"+folder_nm+"']").prop("checked",true);
			$("input[value='"+folder_nm+"']").addClass("chk");
		}else if(ch == "hyphen") {
			$("input[value='"+folder_nm+"']").parent().parent().find('.fCheck').addClass("hyphen");
			$("input[value='"+folder_nm+"']").addClass("chk");
		}
		 
	});

}

function fnDrag() {		
	$("div[id^='draggable']").draggable({
		cursor: "move",
		cursorAt: {top: 15, left: 85},
		helper: function(event) {
			//$("input[name='b2c_memb_thesis_info_id']").val($(this).parent().find('.dev_drag_thesis_id').html());
			thesis_id = (this.id.substring('draggable'.length, this.id.length));
			return $("<div class='ui-widget-custom txtEllipsis w170'>"+$(this).find('.titWrap').find('h5').text()+"</div>");
		},
		revert: "invalid"
	});

	$("#set div").draggable({stack: "#set div"});

	$("li[id^='droppable']").droppable({
		/* classes: {
			"ui-droppable-active": "ui-state-active-custom",
			"ui-droppable-hover": "ui-state-hover"
		}, */
		over: function(event, ui) {
        	$(this).addClass('ui-state-active-custom');
        	$(this).addClass('ui-state-hover');
        },
        out: function(event, ui) {
        	$(this).removeClass('ui-state-active-custom');
        	$(this).removeClass('ui-state-hover');
        },    
		drop: function(event, ui) {
			$(this).addClass("ui-state-highlight");
			var folder_id = $(this).attr("id").split("droppable")[1];
			//var thesis_id = $("input[name='b2c_memb_thesis_info_id']").val();			
			$.ajax({
				type: "POST",
				url: ProxyUrl+"/mylib/myNodeFolderRegist",
				data: {"folder_id":folder_id, "thesis_id":thesis_id},
				async: false,
				success:function(data) {
					if(data == 0) {
						location.reload();
					}else {
						$.jQueryAlert("오류가 발생했습니다.");
					}
				}
			});
		}
	});
}

//관리자 인용양식 불러오기(제공 양식 불러오기 클릭 시)
function fnAdminQuoteList() {
	var last_quote_type = "";
	var last_quote = "";
	var quote_type = $("#dev_btn_quoteType").children('span').text();
	$("#pub_modalQuoteThesis .tooltip .desc.leftTop").text('내가 등록해놓은 양식을 불러옵니다. 마이페이지 > 인용양식 설정에서 내가 원하는 양식을 등록해보세요!');
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/searchAdminQuote",
		success:function(data) {
			$("#dev_quoteList").empty();
			if(data.length == 0) {
				$("#dev_quoteList").append('<li class="item"><span class="nodata">인용양식이 없습니다.</span></li>');
			}
			$.each(data, function(idx, val) {
				var quoteList = '';
				if(last_quote_type == "N" && val.cttnStleId == last_quote){ //최근 사용 양식이 관리자 양식일때 최근사용양식 selected
					$("#quote_type").val("414002");
					$("#dev_sel_quote").val(val.cttnStleId);
					$("#dev_sel_quote_nm").val(val.ttle);
					quoteList += '<li class="item"><a href="#none" class="gSelectedOne selected" onclick="fnSelectQuote(414002,this);">';
				}else {
					quoteList += '<li class="item"><a href="#none" class="gSelectedOne" onclick="fnSelectQuote(414002,this);">';
				}
				quoteList += '<input type="hidden" name="dev_quote_id" value="'+val.cttnStleId+'"/><span id="dev_quote_nm">'+val.ttle+'</span></a></li>';
				$("#dev_quoteList").append(quoteList);
			});
		}
	});
	$("#dev_btn_quoteType").children('span').text("내 양식 불러오기");
	$("#dev_btn_quoteType").attr("onclick","fnSearchUserQuote();");
}
//사용자 인용양식 불러오기
function fnSearchUserQuote() {
	$("#quote_type").val("Y");
	var last_quote_type = "";
	var last_quote = "";
	$("#pub_modalQuoteThesis .tooltip .desc.leftTop").text('DBpia가 기본 제공하는 양식을 불러옵니다.');
	$.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/searchUserQuote",
		success:function(data) {
			$("#dev_quoteList").empty();
			if(data.length == 0) {
				$("#dev_quoteList").append('<li class="item"><span class="nodata">인용양식이 없습니다.</span></li>');
			}
			$.each(data, function(idx, val) {
				var quoteList = "";
				var cttnDivCode = val.cttnDivCode;
				if(cttnDivCode == "414002") {
					cttnDivCode = "414001";
				}
				if(val.cttnStleId == last_quote){ //최근 사용 양식이 관리자 양식일때 최근사용양식 selected
					$("#quote_type").val(cttnDivCode);
					$("#dev_sel_quote").val(val.cttnStleId);
					$("#dev_sel_quote_nm").val(val.ttle);
					quoteList += '<li class="item"><a href="#none" class="gSelectedOne selected" onclick="fnSelectQuote('+cttnDivCode+',this);">';
				}else {
					quoteList += '<li class="item"><a href="#none" class="gSelectedOne" onclick="fnSelectQuote('+cttnDivCode+',this);">';
				}
				quoteList += '<input type="hidden" name="dev_quote_id" value="'+val.cttnStleId+'"/><span id="dev_quote_nm">'+val.ttle+'</span></a></li>';
				$("#dev_quoteList").append(quoteList);
			});
		}
	});
	$("#dev_btn_quoteType").children('span').text("제공 양식 불러오기");
	$("#dev_btn_quoteType").attr("onclick","fnAdminQuoteList();");
	
}
//인용양식 선택 했을 때
function fnSelectQuote(cttnDivCode, sel) {
	$("#quote_type").val(cttnDivCode);
	$("#dev_sel_quote").val($(sel).find('input[name=dev_quote_id]').val()); //선택된 인용양식 번호 셋팅
	$("#dev_sel_quote_nm").val($(sel).find('#dev_quote_nm').text());
	$(".gSelectedOne").removeClass("selected");
	if(!$(sel).next().is(":visible"))
	{
		$(sel).addClass("selected");
	}
}
//인용양식 모달 열기
function fnQuoteModal(thesis_id) {
	$("#dev_thesis_id").val(thesis_id); //리스트에서 인용양식 선택했을때는 thesis_id(내서재 논문아이디) 셋팅
	$.fn.openLayer("#pub_modalQuoteThesis");
}
//폴더 체크
function fnFolderChange(elem) {
	if($(elem).parent().attr("class") == "fCheck hyphen") { //하이픈표시일때 체크로 변경
		//console.log("하이픈");
		$(elem).parent().removeClass("hyphen");
	}
	/*else if($(elem).is(":checked") == true && $(elem).attr("class") == "folder_check chk") { //빈칸에서 체크했을때 하이픈으로 변경 (포함된 논문일때만)
		//console.log("체크");
		$(elem).attr("checked",false);
		$(elem).parent().addClass("hyphen");
	}*/
	//$(".add").hide();
	$(".save").show();
}
//폴더저장
function fnFolderSave() {
	var chkField = $(".checkButtonActive"); //체크버튼
	var checkedseq = ""; //체크된 내서재 번호
    var checkedCount = 0;
	
    if(chkField) {
        if(chkField.length > 0) {
            for(var i=0; i < chkField.length; i++) {
            	 if(chkField[i].checked) {
            		checkedseq += ((checkedCount==0? "" : ",") + chkField[i].value);
            		checkedCount++;
            	 }
            }
        }
	}
    
	var folder_array = "";
    $('.folderChkList').each(function (index, item) {
		var folder_nm = $(this).text();
		var folder_id = $(this).attr("for").split("pub_layer_check_")[1];
		var chk_type = "blank";

		if($(this).siblings("span").attr("class") == "fCheck hyphen") {
			chk_type = "hyphen";
		}else if($(this).siblings("span").find(".folder_check").is(":checked") == true) {
			chk_type = "checked";
		}

		if(index > 0) {
			folder_array += ";";
		}
		folder_array += folder_id + "_" +chk_type + "_" + checkedseq;
	});
    
    $.ajax({
		type: "POST",
		url: ProxyUrl+"/mylib/setFolderSave",
		data: {"data": folder_array},
		success:function(data) {
			//fnSearchNodeList();	// 전체 논문 조회
			//fnFolderList();
			location.reload();
			$("#pub_check_all").prop("checked",false);
			$("#pub_folderManageArea").hide();
		}
    });
}

function fnModalClose(modalId, type) {
	$.fn.closeLayer("#"+modalId);
	if(modalId == "pub_modalRegisterBiblio" && type == "view") {
		fnBiblioInfo();
	}
}

//전체논문 폴더 더보기 버튼 클릭 시
function fnShowAllFolder(thisarea) {
	var hiddenArea = $(thisarea).parents(".option").parent(".eHidden");
	var baseHeight = hiddenArea.outerHeight();

	if(hiddenArea.data("height") === undefined){
		hiddenArea.data("height", baseHeight);
	}
	var spreadBool = $(thisarea).hasClass("open");

	if(spreadBool === false) {
		hiddenArea.css('height', 'auto');
		var autoHeight = hiddenArea;
		$(thisarea).addClass("open");
		$(thisarea).children(".unfold").hide();
		$(thisarea).children(".fold").show();

		hiddenArea.animate({
			height: autoHeight
		}, 100);
	} else {
		$(thisarea).removeClass("open");
		$(thisarea).children(".fold").hide();
		$(thisarea).children(".unfold").show();
		var basicH = hiddenArea.data("height");

		hiddenArea.animate({
			height: basicH
		}, 100);
	}
}

//등록버튼 클릭 시 jcarousel 초기화
function jcarouselControlRegist() {
	$("#pub_modalFooterPrev").hide();
	$("#pub_modalFooterNext").hide();

	$('#pub_modalRegisterBiblio .jcarousel').jcarousel('scroll', '-=1');
	$('#pub_modalRegisterBiblio .jcarousel').jcarousel('reload');
	$("#pub_modalFooterPrev").hide();
}

//서지정보버튼 클릭 시 jcarousel 초기화
function jcarouselControlView() {
	$('#pub_modalViewBiblio .jcarousel').jcarousel('scroll', '-=1');
	$('#pub_modalViewBiblio .jcarousel').jcarousel('reload');
}

// LNB 상단 고정 적용
$(window).scroll(function() {
	if ($(this).scrollTop() > 138) {
		$('.mystudyP .lnbWrap').css({"position":"fixed","top":"0"});
		//$('.mystudyP .lnbWrap').css({"overflow-y":"scroll","height":"436px"});			// 스크롤 삭제 2020-10-12
		$('.mystudyP .lnbWrap').css({"padding-right":"22px","-webkit-padding-end":"39px"});
	} else {
		$('.mystudyP .lnbWrap').css({"position":"static"});
		//$('.mystudyP .lnbWrap').css({"overflow-y":"inherit","height":"auto"});			// 스크롤 삭제 2020-10-12
		$('.mystudyP .lnbWrap').css({"padding-right":"39px"});
	}
});


//프로모션 통계 콜
function promotionStatistics(param) {	
	$.ajax({
		type: 'get',
		url: '/journal/prmtStatistics',
		data: 'divCode=' + param.data.div,
		
	});	
	$(this).closest(".popup_tooltip").stop(true,true).fadeOut(200);	
}

// 내서재 전체 논문 다운로드
fncMyStudyThesisDownloadAll = function(){

	var b2cLogin = '';

	var chk = $("input[name=chkMyStudyThesisChoose]:checked");

	var varDownloadNodeId = [];
	chk.each(function(){
		var downloadNodeId = $(this).parent().parent().parent().find('input[name=hidDonwloadNodeId]');
		var innerChk = $(this).parent().parent().parent().find('input[name=hidInnerChk]').val();

		if((downloadNodeId.attr('alt') === '1' && innerChk === 'true') || (downloadNodeId.attr('alt') === '5' && b2cLogin !== '')){
			varDownloadNodeId.push(downloadNodeId.val());
		}
	});

	if(chk.size() > 20){
		$.jQueryAlert("20개 이하만 한번에 다운로드 하실 수 있습니다.");	// 20개 이하만 한번에 다운로드 하실 수 있습니다.
		return false;

	} else if(varDownloadNodeId.length === 0){
		$.jQueryAlert("다운로드하실 수 있는 논문이 없습니다.");	// 바로 다운로드하실 수 있는 논문이 없습니다.
		return false;
	}

	if(researchYN === 'Y' && researchCnt < varDownloadNodeId.length){
		$.jQueryAlert("남은 논문 수가 부족하여 선택하신 논문을 저장하실 수 없습니다.");
		return false;
	}

	$.ajax({
		url:ProxyUrl+"/download/multiDownload",
		type:"POST",
		data:{dataString:varDownloadNodeId.join("^")},
		success:function(d){
			if(d.cnt == null || d.cnt === "-1") {
				$.fn.openLayer('#pub_modalLoginPop');
			}else if(d.cnt === "-2") {
				$.jQueryAlert("다운로드하실 수 있는 논문이 없습니다.");
			}else{
				$.jQueryAlert("다운로드가 완료될 때까지 기다려 주세요.");	// 다운로드가 완료될 때까지 기다려 주세요.
				var protocol = location.protocol;
				$("#multiForm").attr("action", d.down_svc_path);
				$("input[name='nodeId']").val(varDownloadNodeId[0]);
				$("input[name='ssoKey']").val(d.ssoKey);
				$("input[name='dataString']").val(d.dataString);
				$("input[name='lang']").val(d.lang);
				$("input[name='prevPathCode']").val(d.prevPathCode);
				$("input[name='lty']").val(d.lty);
				$("input[name='dty']").val(d.dty);
				$("input[name='uIp']").val(d.uIp);
				$("input[name='lognId']").val(d.lognId);
				$("input[name='lognFmatCode']").val(d.lognFmatCode);
				$("input[name='researchTrgtYn']").val(d.lognId);
				$("input[name='downToken']").val(d.downToken);
				$("input[name='ssoSeq']").val(d.ssoSeq);
				$("input[name='lognUseType']").val(d.lognUseType);
				$("#multiForm").submit();
			}
		}
	});
};

/**
 * 폴더별 메모 입력
 */
$(document).on('keyup, keypress', 'input[name=txtFolderMemo]', function(event){
	if(event.keyCode === 13){	// 엔터 입력 시 저장 처리
		fn_statistics('R206', '', '')
		var fldrMemo = $(this).val();
		var folder = $("input[name='folder']").val();

		$.ajax({
			type: 'POST',
			url : '/mylib/folderMemoRegist',
			data: {'fldrMemo':fldrMemo, 'folder':folder},
			success: function(data){
				if(data === 1){
					location.href = '/mylib/totalNodeList?folder='+folder;
				}
			}
		});
	}
});

/**
 * 모바일 폴더 선택
 */
$(document).on('change', '#selFolderChange', function(){
	if($(this).val() === ''){
		location.href = '/mylib/totalNodeList';
	} else {
		location.href = '/mylib/totalNodeList?folder='+$(this).val();
	}
});

</script>

<script type="text/javascript">
// 반응형
$(window).on('load resize', function(){	
	var windowWidth = $(this).width();
	if(windowWidth <= 526) {
		// 모달 서지정보 등록수정 ul-li 너비 가변
		$(".jcarousel ul.list li.item").width(windowWidth);
		$(".jcarousel ul.list").width(windowWidth * '2');
	}
});

</script>
<form name="multiForm" id="multiForm" method="GET" action="">
	<input type="hidden" name="nodeId" value=""/>
	<input type="hidden" name="ssoKey" id="ssoKey" value="" />
	<input type="hidden" name="dataString" id="dataString" value="" />
	<input type="hidden" name="lang" value="" /><!--en-->
	<input type="hidden" name="prevPathCode" id="prevPathCode" value="" />
	<input type="hidden" name="isCv" value="Y" />
	<input type="hidden" name="lty" id="lty" value="" />
	<input type="hidden" name="dty" id="dty" value="" />
	<input type="hidden" name="uIp" value="" />
	<input type="hidden" name="lognId" value="" />
	<input type="hidden" name="lognFmatCode" value="" />
	<input type="hidden" name="researchTrgtYn" value="" />
	<input type="hidden" name="downToken" value="" />
	<input type="hidden" name="ssoSeq" value="" />
	<input type="hidden" name="lognUseType" value="" />
	<input type="hidden" name="b2cMembId" value="" />
	<input type="hidden" name="icstId" value="" />
</form>
</body>
</html>